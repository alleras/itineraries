{"version":3,"sources":["Components/TripSelectorComponents/TripBox.module.css","App.module.scss","Components/DateSelector.module.css","config.js","Components/Map.js","Components/TripSelectorComponents/PlaceElement.js","Components/TripSelectorComponents/PlaceSearch.js","Util/debounce.js","Util/fetchCityList.js","Components/DateSelector.js","Util/nestedUpdate.js","Components/TripSelectorComponents/TripBox.js","Components/AddStop.js","Components/TripElement.js","Components/TripList.js","App.js","serviceWorker.js","index.js","Components/TripElement.module.scss","Components/AddStop.module.scss","Components/TripSelectorComponents/PlaceSearch.module.css","Components/TripList.module.scss","Components/Map.module.scss","Components/TripSelectorComponents/TripBox_PlaceSearch.module.css","Components/AddStop_PlaceSearch.module.scss"],"names":["module","exports","tripTypes","id","type","requiresReturn","icon","sampleTrips","Date","mapboxgl","accessToken","props","mapContainer","mapCenter","trips","length","departure","place","coordinates","useEffect","Map","container","style","center","zoom","ref","el","className","PlaceElement","class","onClick","submit","name","city","placeName","detailedName","PlaceSearch","updateSearchTerm","e","setState","searchTerm","target","textContent","selectedCity","submitCity","update","cityList","handleClick","node","contains","state","inputRef","focus","mergedCSS","Object","keys","reduce","cssObject","property","join","mainCSS","React","createRef","getCityList","func","wait","immediate","timeout","context","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout","debounce","query","params","fetch","then","response","json","data","console","log","features","map","entry","formattedEntry","address","text","place_name","replace","trim","Promise","resolve","searchCityList","list","document","addEventListener","removeEventListener","prevProps","prevState","box","children","input","highlight","onInput","spellcheck","contentEditable","suppressContentEditableWarning","edit","display","Fragment","results","element","key","Component","DateDecorator","day","time","date","flatpickr","formatDate","styles","DateSelector","datePicker","fpElement","options","onChange","config","current","dateSelector","tabIndex","open","cloneDeep","require","nestedUpdate","path","value","obj","exp","schema","pList","split","i","elem","StyledPlaceSearch","placeSearchStyle","TripBox","processTrip","validateTrip","showErrors","tripInfo","initialState","trip","arrival","errors","departurePlace","arrivalPlace","departureDate","general","every","selectTripType","find","tripType","updateNestedState","selectedTripType","comment","stops","SelectorWithOptions","dateFormat","enableTime","defaultDate","updater","onReady","error","shadowedBox","tripTypeSelector","iconClass","buttonClass","tripTypeButton","selected","places","infoElement","separator","dates","val","button","AddStop","handleUpdate","stop","toggleSearchBar","handleAdd","addStop","active","addStopButton","TripFragment","leg","tripActions","legName","useState","setComment","commentFlag","setFlag","tripFragment","info","mainPanel","tripIconContainer","secPanel","toDateString","utilButton","deleteTrip","onBlur","modifyComment","placeholder","TripElement","actions","filter","TripFragmentWithInfo","tripElement","stopList","shortid","generate","stopSubText","DayMarker","dayMarker","TimeInterval","timeInterval","bar","TripList","tripTimeline","tripList","currentDay","getFullYear","getMonth","getDate","render","getTime","tripSuperContainer","generateList","tripsReducer","action","sortTripsByDate","sort","a","b","date1","date2","tripWithID","tripID","newTrip","concat","stopInfo","legReducer","Boolean","window","location","hostname","match","ReactDOM","useReducer","dispatchTrips","tripContext","travelHeader","travelTitle","creator","subtext","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b417be95.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"TripBox_box__1ZIVo\",\"places\":\"TripBox_places__1yCwE\",\"separator\":\"TripBox_separator__2BDy2\",\"tripTypeSelector\":\"TripBox_tripTypeSelector__26sah\",\"tripTypeButton\":\"TripBox_tripTypeButton__3MJI8\",\"selected\":\"TripBox_selected__19xcx\",\"dates\":\"TripBox_dates__3d83T\",\"infoElement\":\"TripBox_infoElement__2Zl-S\",\"submit\":\"TripBox_submit__1iT6Y\",\"button\":\"TripBox_button__1oqEM\",\"error\":\"TripBox_error__pSbAc\",\"shadowedBox\":\"TripBox_shadowedBox__xs4iy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__eSJ6i\",\"travelHeader\":\"App_travelHeader__1tTk8\",\"creator\":\"App_creator__CQsAR\",\"travelTitle\":\"App_travelTitle__2UWyV\",\"subtext\":\"App_subtext__3kgU-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateSelector\":\"DateSelector_dateSelector__2cqg5\",\"date\":\"DateSelector_date__2IdZi\",\"day\":\"DateSelector_day__31O8N\",\"time\":\"DateSelector_time__2QvEv\",\"input\":\"DateSelector_input__2WSu6\",\"container\":\"DateSelector_container__3ugGd\"};","const searchLimit = 5;\r\n\r\nconst tripTypes = [\r\n    {   \r\n        id: 3,\r\n        type: 'Road Trip',\r\n        requiresReturn: false,\r\n        icon: 'fa-car'\r\n    },\r\n    {   \r\n        id: 0,\r\n        type: 'Flight',\r\n        requiresReturn: true,\r\n        icon: 'fa-plane'\r\n    },\r\n    {   \r\n        id: 1,\r\n        type: 'Train',\r\n        requiresReturn: true,\r\n        icon: 'fa-train'\r\n    },\r\n    {   \r\n        id: 2,\r\n        type: 'Bus',\r\n        requiresReturn: true,\r\n        icon: 'fa-bus'\r\n    },\r\n]\r\n\r\nconst sampleTrips = [\r\n  {\r\n    \"departure\": {\r\n      \"date\": new Date(\"2020-03-24T23:15:00.000Z\"), \r\n      \"place\":{ \r\n        \"id\":\"poi.910533070815\",\r\n        \"placeName\":\"Aeropuerto Internacional de Maiquetía Simón Bolívar (CCS)\",\r\n        \"detailedName\":\"Av. Intercomunal del Aeropuerto Internacional s/n, Vargas, Vargas, Venezuela\",\r\n        \"coordinates\":[-66.9981435,10.600434]\r\n      },\r\n      \"comment\":\"\"\r\n    },\r\n    \"arrival\": {\r\n      \"date\": new Date(\"2020-03-25T02:55:00.000Z\"),\r\n      \"place\": {\r\n        \"id\":\"region.10576407152235010\",\r\n        \"placeName\":\"Florida\",\r\n        \"detailedName\":\"United States\",\r\n        \"coordinates\":[-81.63167,28.13333]\r\n      },\r\n      \"comment\":\"\"\r\n    },\r\n    \"stops\": [],\r\n    \"selectedTripType\":0,\r\n    \"id\":\"bnowbkhwb\"\r\n  },\r\n  {\r\n    \"departure\":{\r\n      \"date\": new Date(\"2020-03-31T11:15:00.000Z\"),\r\n      \"place\":{\r\n        \"id\":\"place.12519248066880980\",\r\n        \"placeName\":\"Charleston\",\r\n        \"detailedName\":\"South Carolina, United States\",\r\n        \"coordinates\":[-79.9403,32.7876]\r\n      },\r\n      \"comment\":\"\"\r\n    },\r\n    \"arrival\":{\r\n      \"date\":null,\r\n      \"place\":{\r\n        \"id\":\"place.15278078705964500\",\r\n        \"placeName\":\"New York\",\r\n        \"detailedName\":\"New York, United States\",\r\n        \"coordinates\":[-73.9808,40.7648]\r\n      },\r\n      \"comment\":\"\"\r\n    },\r\n    \"selectedTripType\":3,\r\n    \"id\":\"CdF1CohdZ\",\r\n    \"stops\": [\r\n      {\r\n        \"id\":\"place.7673410831246050\",\r\n        \"placeName\":\"Washington\",\r\n        \"detailedName\":\"District of Columbia, United States\",\r\n        \"coordinates\":[-77.0366,38.895]}\r\n      ]\r\n    },\r\n    {\r\n      \"departure\": {\r\n        \"date\": new Date(\"2020-04-08T23:15:00.000Z\"),\r\n        \"place\":{\r\n          \"id\":\"poi.987842560458\",\r\n          \"placeName\":\"Newark Liberty International Airport (EWR)\",\r\n          \"detailedName\":\"10 Toler Pl, Newark, New Jersey 07114, United States\",\r\n          \"coordinates\":[-74.173296,40.6927355]\r\n        },\r\n        \"comment\":\"Long trip! Pack snacks!\"\r\n      },\r\n      \"arrival\":{\r\n        \"date\": new Date(\"2020-04-09T06:00:00.000Z\"),\r\n        \"place\":{\r\n          \"id\":\"poi.953482766534\",\r\n          \"placeName\":\"Los Angeles International Airport (LAX)\",\r\n          \"detailedName\":\"1 World Way, Los Angeles, California 90045, United States\",\r\n          \"coordinates\":[-118.406829,33.942912]\r\n        },\r\n        \"comment\":\"Arrival is in local time. I should probably add an option for that, right?\"\r\n      },\r\n      \"stops\":[],\r\n      \"selectedTripType\":0,\r\n      \"id\":\"LeONUcjfV\"\r\n    }\r\n  ]\r\n\r\nexport {searchLimit, tripTypes, sampleTrips}","import React, {useState, useReducer, useEffect} from 'react'\nimport mapboxgl from 'mapbox-gl'\n\nimport style from './Map.module.scss'\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiYWxsZXJhcyIsImEiOiJjanJvYm42dW8xMHBxM3lvMG9mbnB2eDZkIn0.xyBG3j5GCSV7XLKHnwWtXg';\n\nexport default (props) => {\n    let mapCenter = null\n\n    // We Check that we're not dealing with an itinerary with no trips\n    if(props.trips.length > 0){\n        mapCenter = props.trips[0].departure.place.coordinates\n    }\n    var mapContainer\n\n    useEffect(() => {\n        const map = new mapboxgl.Map({\n            container: mapContainer,\n            style: 'mapbox://styles/mapbox/streets-v11',\n            center: mapCenter || [0,0],\n            zoom: 5,\n        });\n    })\n\n    return (\n        <div ref={el => mapContainer = el} className={style.mapContainer} />\n    )\n}","import React from 'react'\r\n\r\nfunction PlaceElement(props) {\r\n  let className = props.class\r\n  let style = props.style\r\n\r\n  return (\r\n    <li onClick={props.submit} class={className}>\r\n      <div className={style.name}>\r\n        {props.city.placeName}\r\n      </div>\r\n      <div className={style.detailedName}>\r\n        {props.city.detailedName}\r\n      </div>\r\n      {/*this.props.city.placeName} | {this.props.city.detailedName*/}\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default PlaceElement","import React from 'react'\r\nimport PlaceElement from './PlaceElement'\r\n// Utils\r\nimport searchCityList from '../../Util/fetchCityList'\r\nimport debounce from '../../Util/debounce'\r\n// CSS\r\nimport mainCSS from './PlaceSearch.module.css'\r\n\r\nclass PlaceSearch extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    // TODO: Make into a standalone function.\r\n    // Merge the two stylesheets and concatenate the css classes names so the new style just overrides or extends it.\r\n    if(props.style){\r\n      var mergedCSS = Object.keys(props.style).reduce((cssObject, property) => {\r\n          // If the original css has the property defined on the new one, then concatenate the names and replace it.\r\n          if(cssObject[property]) \r\n            return {...cssObject, [property]: [cssObject[property], props.style[property]].join(' ')}\r\n\r\n          // Just add the property to the object if it doesn't\r\n          return {...cssObject, [property]: props.style[property]}\r\n      }, mainCSS)\r\n    }\r\n\r\n    // Fallback to the mainCSS if no styles are passed.\r\n    this.style = mergedCSS || mainCSS\r\n\r\n    // DOM References\r\n    this.node = React.createRef()\r\n    this.inputRef = React.createRef()\r\n\r\n    // We use a debounce function to delay the fetching of the data from the API while the user is typing.\r\n    // The debounce function is called here so the closure can be made correctly and the timeout works.\r\n    this.getCityList = debounce(() => { // This function will be called when the timeout finally runs out\r\n      searchCityList(this.state.searchTerm).then((list) => {\r\n        this.setState({cityList: list})\r\n      })\r\n    }, 350)\r\n\r\n    this.state = {\r\n      searchTerm: null,\r\n      cityList: null,\r\n      selectedCity: null,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('click', this.handleClick, false);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    document.removeEventListener('click', this.handleClick, false);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.searchTerm !== prevState.searchTerm)\r\n      // We call the debounced function everytime the state updates and the searchTerm is different than the previous one.\r\n      this.getCityList()\r\n  }\r\n\r\n  updateSearchTerm = (e) => {\r\n    this.setState({searchTerm: e.target.textContent, selectedCity: null})\r\n  }\r\n\r\n  // FIXME: Change update the city when selectedCity changes, not only when it's submitted.\r\n  submitCity = (city) => {\r\n    this.props.update(city)\r\n    this.setState({selectedCity: city ? city.placeName : null, cityList: null, searchTerm: null})\r\n  }\r\n\r\n  handleClick = (e) => {\r\n    // If a click is registered outside the element, we clear the cityList array to hide the list.\r\n    if (!this.node.contains(e.target) && this.state.cityList) {\r\n      this.setState({cityList: null})\r\n      return\r\n    }\r\n    else if(this.node.contains(e.target)){\r\n      // Clear the search box and focus it.\r\n      this.setState({selectedCity: null})\r\n      this.submitCity(null)\r\n      this.inputRef.focus()\r\n      return\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let style = this.style\r\n    return (\r\n      <div className={style.container}>\r\n      \r\n        <div className={style.box} ref={node => { this.node = node; }}>\r\n          {this.props.children && <label>{this.props.children}</label>}\r\n          \r\n          <div \r\n            className={`${style.input} ${this.state.selectedCity && style.highlight}`} \r\n            onInput={this.updateSearchTerm} \r\n            ref={ref => this.inputRef = ref}\r\n            spellcheck={false}\r\n            contentEditable={true}\r\n            suppressContentEditableWarning={true}\r\n          >{this.state.selectedCity || null}</div>\r\n\r\n          <i className={`${style.edit} fas fa-times-circle`} style={this.state.selectedCity && {display: 'inline'}}></i>\r\n        </div>\r\n\r\n        <React.Fragment>\r\n        {this.state.cityList && \r\n          <ul className={`${style.results} shadowedBox`}>\r\n            {this.state.cityList.map(city => \r\n              <PlaceElement \r\n                class={style.element} \r\n                key={city.id} \r\n                city={city} \r\n                submit={() => this.submitCity(city)}\r\n                style={style}\r\n              />\r\n            )}\r\n          </ul>\r\n        }\r\n        </React.Fragment>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PlaceSearch","// Underscore.js debounce function\r\n\r\nexport default function debounce(func, wait, immediate) {\r\n\tvar timeout;\r\n\treturn function() {\r\n\t\tvar context = this, args = arguments;\r\n\t\tvar later = function() {\r\n\t\t\ttimeout = null;\r\n\t\t\tif (!immediate) func.apply(context, args);\r\n\t\t};\r\n        var callNow = immediate && !timeout;\r\n\t\tclearTimeout(timeout);\r\n\t\ttimeout = setTimeout(later, wait);\r\n\t\tif (callNow) func.apply(context, args);\r\n\t};\r\n};","import {searchLimit} from '../config'\r\n\r\n// TODO: Define an interface to be able to use any API with it. \r\nexport default function fetchCityList(searchTerm) {\r\n    // TODO: Sanitize searchTerm!!!!!!!!!\r\n    let query = ''\r\n\r\n    if(searchTerm) {\r\n        // The main query\r\n        query = 'https://api.mapbox.com/geocoding/v5/mapbox.places/'\r\n        query += `${searchTerm}.json`\r\n\r\n        // We assemble the parameters\r\n        let params = '?access_token=pk.eyJ1IjoiYWxsZXJhcyIsImEiOiJjanJvYm42dW8xMHBxM3lvMG9mbnB2eDZkIn0.xyBG3j5GCSV7XLKHnwWtXg'\r\n        params += '&limit=' + searchLimit\r\n\r\n        // Then join everything together\r\n        query += params\r\n\r\n        return fetch(query)\r\n        .then(response => {\r\n            let formattedResponse = response.json()\r\n            return formattedResponse\r\n        })\r\n        .then(data => {\r\n            console.log(data)\r\n            // Select the 'features' property from the object\r\n            data = data.features\r\n\r\n            // If that property is inexistent, there's no results. We return an empty array\r\n            if(!data)\r\n                return []\r\n            \r\n            // Format data for sending out\r\n            let formattedData = data.map((entry) => {\r\n                let formattedEntry = {}\r\n\r\n                formattedEntry.id = entry.id\r\n                formattedEntry.placeName = (entry.address ? entry.address + ' ' : '') + entry.text\r\n                formattedEntry.detailedName = entry.place_name.replace(formattedEntry.placeName + ', ', '').trim()\r\n                formattedEntry.coordinates = entry.center\r\n\r\n                return formattedEntry\r\n            })\r\n\r\n            return formattedData\r\n        })\r\n    }\r\n    else {\r\n        // If no searchTerm is provided, the response is an empty array.\r\n        return Promise.resolve([])\r\n    }\r\n}","import React from 'react'\r\n\r\nimport flatpickr from 'flatpickr'\r\n\r\nimport 'flatpickr/dist/themes/material_blue.css'\r\nimport styles from './DateSelector.module.css' // Using CSS Modules\r\n\r\nclass DateSelector extends React.Component {\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.datePicker = React.createRef()\r\n        this.fpElement = null\r\n\r\n        this.state = {\r\n            options: {\r\n                onChange: this.onChange,\r\n                ...this.props.config\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fpElement = flatpickr(this.datePicker.current, this.state.options)\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className={styles.dateSelector} tabIndex='0' onClick={() => {\r\n                this.fpElement.open()\r\n            }}>\r\n                <i class=\"far fa-calendar-alt\"></i>\r\n\r\n                <input ref={this.datePicker} className={styles.input} />\r\n                <DateDecorator date={this.props.date}>Select date</DateDecorator>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction DateDecorator(props) {\r\n    let day, time = null\r\n\r\n    if(props.date) {\r\n        day = flatpickr.formatDate(props.date, 'D, M d')\r\n        time = flatpickr.formatDate(props.date, 'h:i K')\r\n    }\r\n    return (\r\n        <div class={styles.date}>\r\n            <React.Fragment>\r\n                <span className={styles.day}>{day || props.children}</span> \r\n                <span className={styles.time}>{time}</span>\r\n            </React.Fragment>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DateSelector","// Taken from pieceup.js\nvar cloneDeep = require('lodash/cloneDeep');\n\nconst nestedUpdate = (path, value) => (obj) => {\n    // Credits: bpmason1 https://stackoverflow.com/a/18937118\n\n    let exp = cloneDeep(obj)\n    let schema = exp\n    let pList = path.split('.')\n\n    for(var i = 0; i < pList.length - 1; i++){\n        let elem = pList[i]\n        if(!schema[elem]) schema[elem] = {}    \n        schema = schema[elem]\n    }\n    schema[pList[pList.length - 1]] = value\n    return exp\n}\n\nexport default nestedUpdate","import React from 'react'\r\nimport PlaceSearch from './PlaceSearch'\r\nimport DateSelector from '../DateSelector'\r\nimport {tripTypes} from '../../config'\r\nimport style from './TripBox.module.css'\r\nimport placeSearchStyle from './TripBox_PlaceSearch.module.css'\r\nimport nestedUpdate from '../../Util/nestedUpdate'\r\nvar cloneDeep = require('lodash/cloneDeep');\r\n\r\n\r\n// TODO: Validate input\r\n\r\nconst StyledPlaceSearch = function(props) {\r\n    return <PlaceSearch {...props} style={placeSearchStyle}></PlaceSearch>\r\n}\r\n\r\nclass TripBox extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            tripTypes: tripTypes,\r\n            showErrors: false,\r\n            departure: {\r\n                date: new Date(), \r\n                place: null,\r\n                comment: '',\r\n            },\r\n            arrival: {\r\n                date: null, \r\n                place: null,\r\n                comment: '',\r\n            },\r\n            stops: [],\r\n            selectedTripType: 0,\r\n        }\r\n\r\n        this.initialState = cloneDeep(this.state)\r\n\r\n        this.SelectorWithOptions = function(props) {\r\n            return <DateSelector \r\n                date={props.date}\r\n                config={{\r\n                dateFormat: \"D d F h:i K\",\r\n                enableTime: true,\r\n                defaultDate: new Date(),\r\n                onChange: props.updater,\r\n                onReady: props.updater,\r\n                ...props.config\r\n            }}/>\r\n        }\r\n    }\r\n\r\n    processTrip = () => {\r\n        // TODO: Change to a warning\r\n        if(this.validateTrip(this.state) !== true){\r\n            this.setState({showErrors: true})\r\n            return false\r\n        }\r\n\r\n        let {tripTypes, showErrors, ...tripInfo} = cloneDeep(this.state)\r\n        this.props.processTrip(tripInfo)\r\n        this.setState(cloneDeep(this.initialState))\r\n    }\r\n    \r\n    validateTrip = (trip = false) => {\r\n\r\n        if(trip === false)\r\n            return false\r\n        \r\n        // Arrival shouldn't happen before departure  -- DONE\r\n        // TODO: Arrival and departure dates shouldn't overlap with any of the other trips\r\n        // Departure and arrival places are required -- DONE\r\n        // Departure and arrival dates are required -- DONE\r\n\r\n        let departure = trip.departure\r\n        let arrival = trip.arrival\r\n        let errors = {}\r\n        \r\n        errors.departurePlace = !departure.place ? 'An origin is required.' : ''\r\n        errors.arrivalPlace = !arrival.place ? 'A destination is required.' : ''\r\n        errors.departureDate = !departure.date ?  'Departure date is required.' : ''\r\n\r\n        errors.general = \r\n            (!arrival.date == null && new Date(departure.date) > new Date(arrival.date)\r\n            ? 'The arrival date shouldn\\'t be set before departure.' : '')\r\n\r\n        // We check that all the error properties are empty strings, if they are,\r\n        // the form is validated. \r\n        // If not, the errors object is returned\r\n        return Object.keys(errors).every((key) => errors[key].length <= 0) || errors\r\n    }\r\n\r\n    selectTripType = (id) => {\r\n        let requiresReturn = this.state.tripTypes.find(tripType => id === tripType.id).requiresReturn\r\n        if(!requiresReturn){\r\n            this.updateNestedState('arrival.date')(null)\r\n        }\r\n        this.setState({selectedTripType: id})\r\n    }\r\n\r\n    updateNestedState = path => value => {\r\n        this.setState(prevState => nestedUpdate(path, value)(prevState))\r\n    }\r\n\r\n    render() {\r\n        let state = this.state\r\n        /* We filter out the selected trip and then check if it requires a return in order to show the 'Arriving' part */\r\n        let requiresReturn = state.tripTypes.find(tripType => state.selectedTripType === tripType.id).requiresReturn\r\n        let error = this.validateTrip(state)\r\n\r\n        return(\r\n            <div className={`${style.box} ${style.shadowedBox}`}>\r\n                <ul className={style.tripTypeSelector}>\r\n                    {/* TODO: Clean up the way the class is generated */}\r\n                    {state.tripTypes.map(tripType => { // The list of trip types as defined in the state.\r\n                        let iconClass = 'fas ' + tripType.icon\r\n                        let buttonClass = `${style.tripTypeButton} `\r\n                        buttonClass +=  state.selectedTripType === tripType.id ? style.selected : ''\r\n                        return (\r\n                            <li class={buttonClass} onClick={() => this.selectTripType(tripType.id)} key={tripType.id}>\r\n                                <i class={iconClass}></i>\r\n                            </li>\r\n                        )\r\n                    })}\r\n                </ul>\r\n                {/* FIXME: Show errors on the respective fields */}\r\n                {this.state.showErrors && (\r\n                <div class={style.error}>\r\n                    <>{error.departurePlace}</>\r\n                    <>{error.arrivalPlace}</>\r\n                    <>{error.departureDate}</>\r\n                    <>{error.general}</>\r\n                </div>\r\n                )}\r\n                {/* TODO: Ditch the row and six columns */}\r\n                {/* FIXME: TODO: Bind PlaceSearch to the state so that when a trip is added, it resets */}\r\n                <div className={`row`}>\r\n                    <div class='six columns' style={{'margin-bottom': '1em'}}>\r\n                        <label>Where to?</label>\r\n                        <div className={`${style.places} ${style.infoElement}`}>\r\n                            <StyledPlaceSearch update={this.updateNestedState('departure.place')} ></StyledPlaceSearch>\r\n                            <div className={`${style.places} ${style.separator}`}>\r\n                                <i class=\"fas fa-long-arrow-alt-right\" />\r\n                            </div>\r\n                            <StyledPlaceSearch update={this.updateNestedState('arrival.place')} ></StyledPlaceSearch>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class='six columns'>\r\n                        <label>When?</label>\r\n                        <div className={`${style.dates} ${style.infoElement}`}>\r\n                            \r\n                            <this.SelectorWithOptions\r\n                            date={this.state.departure.date} \r\n                            updater={\r\n                                (val) => this.updateNestedState('departure.date')(val[0])\r\n                            }/>\r\n\r\n                            {requiresReturn && \r\n                                <React.Fragment>\r\n                                    <div className={`${style.dates} ${style.separator}`}>\r\n                                        <i class=\"fas fa-chevron-right\"></i>\r\n                                    </div>\r\n                                    <this.SelectorWithOptions\r\n                                    date={this.state.arrival.date} \r\n                                    updater={(val) => this.updateNestedState('arrival.date')(val[0])}\r\n                                    config={{\r\n                                        defaultDate: null,\r\n                                    }}/>\r\n                                </React.Fragment>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class={`${style.submit}`}>\r\n                    <button class={`${style.button} button-primary shadowedBox`} onClick={this.processTrip}>Add trip</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TripBox","import React from 'react'\r\n// Components\r\nimport PlaceSearch from './TripSelectorComponents/PlaceSearch'\r\n\r\nimport style from './AddStop.module.scss'\r\nimport placeSearchStyle from './AddStop_PlaceSearch.module.scss'\r\n\r\nclass AddStop extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            toggleSearchBar: false\r\n        }\r\n    }\r\n\r\n    handleUpdate = (stop) =>{\r\n        if(!stop)\r\n            return false\r\n        \r\n        this.setState({toggleSearchBar: !this.state.toggleSearchBar})\r\n        this.props.handleAdd(stop)\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <div class={`${style.addStop} ${this.state.toggleSearchBar && style.active}`}>\r\n            <span class={style.addStopButton} onClick={() => this.setState({toggleSearchBar: !this.state.toggleSearchBar})}>\r\n                <i class=\"fas fa-plus-circle\"></i> Add Stop\r\n            </span>        \r\n            {this.state.toggleSearchBar && \r\n                <PlaceSearch update={this.handleUpdate} style={placeSearchStyle}></PlaceSearch>\r\n            }\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddStop","import React, {useState} from 'react'\r\n// Components\r\nimport AddStop from './AddStop'\r\n// Util\r\nimport shortid from 'shortid'\r\nimport {tripTypes} from '../config'\r\n\r\nimport style from './TripElement.module.scss'\r\n\r\n        \r\nconst TripFragment = ({id, leg, icon, tripActions, legName, children}) => {\r\n  let [comment, setComment] = useState(leg.comment)\r\n  let [commentFlag, setFlag] = useState(false)\r\n\r\n  const processComment = (text) => {\r\n    tripActions.modifyComment(id, legName)(text)\r\n    return setFlag(text.length === 0 ? false : commentFlag)\r\n  }\r\n\r\n  const commentChange = (e) => {\r\n    return setComment(e.target.value)\r\n  }\r\n\r\n  return (\r\n    <div class={`${style.tripFragment}`}>\r\n      <div class={style.info}>\r\n        <div class={style.mainPanel}>\r\n\r\n          <div class={style.tripIconContainer}>\r\n            <i class={icon}></i>\r\n          </div>\r\n\r\n          <div class={style.legName}>\r\n            {/* TODO: Make a util method to get the detailedName without the placeName on it */ }\r\n            <big>{leg.place.placeName}</big>\r\n            <small>{leg.place.detailedName}</small>\r\n          </div>\r\n        </div>\r\n\r\n        <div class={style.secPanel}>\r\n          {leg.date && (\r\n          <div class={style.tripInfo}>\r\n          <span class={style.icon}> {leg.date.toDateString()}</span>\r\n          </div>\r\n          )}\r\n          \r\n\r\n          <div class={style.utilButton}>\r\n            <span onClick={() => setFlag(!commentFlag)}>\r\n              <i class=\"fas fa-comment\"></i> Comment\r\n            </span>\r\n            <span onClick={() => tripActions.deleteTrip(id)}>\r\n              <i class=\"fas fa-trash\"></i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class={style.comment} style={{display: (leg.comment.length <= 0 && !commentFlag) ? 'none' : 'inherit'}}>\r\n          {commentFlag ? (\r\n              <input type=\"text\" \r\n                     onBlur={() => processComment(comment)}\r\n                     onChange={commentChange}\r\n                     placeholder={'Insert your comment here'} \r\n                     value={comment} />\r\n          ) : (\r\n            leg.comment\r\n          )}\r\n        </div>\r\n      </div>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\n// FIXME: Refactor to more usable component\r\nconst TripElement = ({trip, actions, children}) => {\r\n\r\n    let tripTypeText = tripTypes.filter((element) => element.id === trip.selectedTripType)[0].type\r\n\r\n    // FIXME: Fix this convoluted process of getting the icon or text of a tripType\r\n    let iconClass = `fas ${tripTypes.filter((element) => element.id === trip.selectedTripType)[0].icon}`\r\n        \r\n    const TripFragmentWithInfo = (props) => (\r\n      <TripFragment id={trip.id} icon={iconClass} tripActions={actions} {...props} >\r\n        {children}\r\n      </TripFragment>\r\n    )\r\n      return (\r\n        <div class={`${style.tripElement}`}>\r\n\r\n          {/* Departure */}\r\n          <TripFragmentWithInfo leg={trip.departure} legName='departure'>\r\n            {children}\r\n          </TripFragmentWithInfo>   \r\n\r\n          {trip.selectedTripType === 3 && (    \r\n          <div class={style.stopList}>\r\n            {trip.stops.length > 0 && \r\n              trip.stops.map(stop => (\r\n                <div key={shortid.generate()} class={style.stop}>\r\n                  <i class=\"fas fa-map-marker-alt\"></i> \r\n                  <b>{stop.placeName}</b>\r\n                  <div class={style.stopSubText}>\r\n                    <small>{stop.detailedName}</small>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            }\r\n\r\n            <AddStop handleAdd={actions.addStop(trip.id)} />\r\n          </div>\r\n          )}\r\n          \r\n          {/* Arrival */}\r\n          {trip.arrival && (\r\n            <TripFragmentWithInfo leg={trip.arrival} legName='arrival' />\r\n          )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TripElement                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   ","import React from 'react'\r\nimport style from './TripList.module.scss'\r\nimport TripElement from './TripElement'\r\n// We import flatpickr to use its utility functions for dates\r\nimport flatpickr from 'flatpickr'\r\n\r\nconst DayMarker = (props) => {\r\n    return (\r\n        <div class={style.dayMarker}> \r\n            <div class={style.day}>\r\n                {flatpickr.formatDate(props.day, 'M, d')}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst TimeInterval = (props) => {\r\n\r\n    return (\r\n        <div class={style.timeInterval}>\r\n            <div class={style.time}>\r\n                {flatpickr.formatDate(props.departure, 'h:i K')}\r\n            </div>\r\n            <div class={style.bar}></div>\r\n            <div class={style.time}>\r\n                {props.arrival ? flatpickr.formatDate(props.arrival, 'h:i K') : <span style={{'text-transform': 'none'}}>No ETA</span> }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst TripList = (props) => {\r\n\r\n    const generateList = (tripList) => {\r\n        var currentDay = null\r\n\r\n        // TODO: COMMENT ME!\r\n        return tripList.map((tripElement) => {\r\n            let date = tripElement.departure.date\r\n            let day = new Date(date.getFullYear(),date.getMonth() , date.getDate())\r\n            let render = false\r\n\r\n            // We use getTime for the Date object so the comparison is done properly\r\n            if(!currentDay || day.getTime() !== currentDay.getTime()){\r\n                currentDay = day\r\n                render = true\r\n            }\r\n            \r\n            return (\r\n                <>\r\n                    {render && <DayMarker day={currentDay} />}\r\n                    <div class={style.tripSuperContainer}>\r\n                        <TimeInterval departure={tripElement.departure.date} arrival={tripElement.arrival.date}/>\r\n                        <TripElement trip={tripElement} actions={props.actions}>\r\n                        </TripElement>\r\n                    </div>\r\n                </>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div class={style.tripTimeline}>\r\n            {props.tripList.length > 0 ? \r\n            generateList(props.tripList) \r\n            : <>No legs have been entered</>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default TripList\r\n","import React, {useState, useReducer, useEffect} from 'react'\n// Utils\nimport {sampleTrips} from './config'\nimport shortid from 'shortid'\nimport Map from './Components/Map'\n// Components\nimport TripBox from './Components/TripSelectorComponents/TripBox'\nimport TripList from './Components/TripList'\n// CSS\nimport style from './App.module.scss'\n\nvar cloneDeep = require('lodash/cloneDeep')\n\n\nfunction tripsReducer(state = [], action) {\n\n  const sortTripsByDate = (trips) => {\n    return trips.sort((a,b) => {\n      let date1 = new Date(a.departure.date)\n      let date2 = new Date(b.departure.date)\n      \n      if (date1 === date2) {\n        return 0;\n      }\n      else {\n        return (date1 < date2) ? -1 : 1;\n      }\n    })\n  }\n\n  // Reducer\n  switch(action.type) {\n    case 'ADD_TRIP': {\n      // Trip state structure is shown on TripSelectorComponents/TripBox.js\n      let tripWithID = {...action.trip, id: shortid.generate()}\n      return sortTripsByDate([...state, tripWithID]) \n    }\n    case 'DELETE_TRIP': {\n      return state.filter(trip => trip.id !== action.tripID)\n    }\n    case 'ADD_STOP': {\n      return state.map(trip => {\n        if(trip.id === action.tripID) {\n          // Create a new trip element without the stops\n          const {stops, ...newTrip} = cloneDeep(trip)\n          // Then add the stops to the previous trip element and incorporate it to the new one\n          newTrip.stops = trip.stops.concat(action.stopInfo)\n          \n          return newTrip\n        }\n        return trip\n      })\n    }\n    case 'MODIFY_COMMENT': {\n      return state.map(trip => {\n        if(trip.id === action.tripID){\n          return legReducer(trip, action)\n        }\n        return trip\n      })\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nfunction legReducer(state = [], action) {\n  switch(action.type) {\n    case 'MODIFY_COMMENT': {\n      if(state[action.leg]){\n        return {\n          ...state,\n          [action.leg]: {\n            ...state[action.leg],\n            comment: action.comment\n          }\n        }\n      }\n      return state\n    }\n    case 'MODIFY_DATE': {\n      return state\n    }\n    default: {\n      return state\n    }\n  }\n}\n\n\nexport default () => {\n  // Setting state\n  // TODO: Make places information source of info be the API (For placeNames, etc), using only the id to store in db.\n  const [trips, dispatchTrips] = useReducer(tripsReducer, sampleTrips)\n\n  // Context settings\n  const tripContext = {\n    // Context state\n    trips: trips, \n    // Context actions\n    actions: {\n      addStop: (id) => (stop) => dispatchTrips({type: 'ADD_STOP', tripID: id, stopInfo: stop}), \n      deleteTrip: (id) => dispatchTrips({type: 'DELETE_TRIP', tripID: id}),\n      modifyComment: (id, leg) => comment => dispatchTrips({type: 'MODIFY_COMMENT', tripID: id, leg: leg, comment: comment})\n    }\n  }\n\n  return (\n    <div>      \n      <header className={`row ${style.travelHeader}`}>\n        <div className={`container ${style.container}`}>\n          <h3 className={style.travelTitle}>Itinerary Creator</h3> \n          <div className={style.creator}>by Agustin Lleras</div>\n          <div className={style.subtext}>\n            <i className=\"far fa-clock\"></i> <b>Trip total:</b> 2 days, 4 hours\n          </div>\n        </div>\n      </header>\n\n      <div className='row'>\n        <Map trips={trips}></Map>\n      </div>\n      \n      <div className='row' style={{\"marginTop\": \"-3em\"}}>\n        <div className={`container ${style.container}`}>\n          <TripBox \n          tripList={trips}\n          processTrip={(tripInfo) => {\n            dispatchTrips({type: 'ADD_TRIP', trip: tripInfo})\n          }}></TripBox>\n        </div>\n      </div>\n\n      <div className={`container ${style.container}`}>\n        <TripList tripList={trips} actions={tripContext.actions} />\n      </div>\n    </div>\n  )\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './normalize.css'\nimport './skeleton.css'\nimport '@fortawesome/fontawesome-free/css/all.css'\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"withLine\":\"TripElement_withLine__3Mfbc\",\"tripElement\":\"TripElement_tripElement__Hd-mg\",\"timeIndicator\":\"TripElement_timeIndicator__-wZVe\",\"tripFragment\":\"TripElement_tripFragment__2ZRJZ\",\"stopList\":\"TripElement_stopList__22nb0\",\"stop\":\"TripElement_stop__2lhGi\",\"stopSubText\":\"TripElement_stopSubText__78KtN\",\"info\":\"TripElement_info__AS83P\",\"mainPanel\":\"TripElement_mainPanel__3yU1j\",\"secPanel\":\"TripElement_secPanel__2AEDq\",\"icon\":\"TripElement_icon__p7iy2\",\"utilButton\":\"TripElement_utilButton__AofXX\",\"tripInfo\":\"TripElement_tripInfo__17xeB\",\"tripIconContainer\":\"TripElement_tripIconContainer__1jTXg\",\"legName\":\"TripElement_legName__1UrLX\",\"comment\":\"TripElement_comment__2yLIT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addStop\":\"AddStop_addStop__3Rls-\",\"active\":\"AddStop_active__prUDD\",\"addStopButton\":\"AddStop_addStopButton__32weP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PlaceSearch_container__3DmDq\",\"input\":\"PlaceSearch_input__2uD0m\",\"highlight\":\"PlaceSearch_highlight__23iM1\",\"edit\":\"PlaceSearch_edit__2TBSy\",\"box\":\"PlaceSearch_box__1K80T\",\"results\":\"PlaceSearch_results__2DUer\",\"element\":\"PlaceSearch_element__3em7r\",\"name\":\"PlaceSearch_name__26C2g\",\"detailedName\":\"PlaceSearch_detailedName__1xN1_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeInterval\":\"TripList_timeInterval__1371S\",\"bar\":\"TripList_bar__1IW3t\",\"time\":\"TripList_time__39uwR\",\"tripSuperContainer\":\"TripList_tripSuperContainer__2839p\",\"dayMarker\":\"TripList_dayMarker__3OPef\",\"day\":\"TripList_day__3xz6C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapContainer\":\"Map_mapContainer__1cNc_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TripBox_PlaceSearch_container__2shyh\",\"input\":\"TripBox_PlaceSearch_input__37xaP\",\"box\":\"TripBox_PlaceSearch_box__3XQPW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AddStop_PlaceSearch_container__2jTCI\",\"input\":\"AddStop_PlaceSearch_input__GvW5R\",\"box\":\"AddStop_PlaceSearch_box__3SMgC\"};"],"sourceRoot":""}