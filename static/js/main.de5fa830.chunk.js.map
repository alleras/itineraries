{"version":3,"sources":["Components/TripSelectorComponents/TripBox.module.css","App.module.scss","Components/DateSelector.module.css","config.js","Components/Map.js","Components/TripSelectorComponents/PlaceElement.js","Components/TripSelectorComponents/PlaceSearch.js","Util/debounce.js","Util/fetchCityList.js","Components/DateSelector.js","Util/nestedUpdate.js","Components/TripSelectorComponents/TripBox.js","Components/AddStop.js","Components/TripElement.js","Components/TripList.js","App.js","serviceWorker.js","index.js","Components/TripElement.module.scss","Components/AddStop.module.scss","Components/TripSelectorComponents/PlaceSearch.module.css","Components/TripList.module.scss","Components/Map.module.scss","Components/TripSelectorComponents/TripBox_PlaceSearch.module.css","Components/AddStop_PlaceSearch.module.scss"],"names":["module","exports","tripTypes","id","type","requiresReturn","icon","sampleTrips","Date","mapboxgl","accessToken","props","mapContainer","useEffect","Map","container","style","center","trips","departure","place","coordinates","zoom","ref","el","className","PlaceElement","class","onClick","submit","name","city","placeName","detailedName","PlaceSearch","updateSearchTerm","e","setState","searchTerm","target","textContent","selectedCity","submitCity","update","cityList","handleClick","node","contains","state","inputRef","focus","mergedCSS","Object","keys","reduce","cssObject","property","join","mainCSS","React","createRef","getCityList","func","wait","immediate","timeout","context","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout","debounce","query","params","fetch","then","response","json","data","console","log","features","map","entry","formattedEntry","address","text","place_name","replace","trim","Promise","resolve","searchCityList","list","document","addEventListener","removeEventListener","prevProps","prevState","box","children","input","highlight","onInput","spellcheck","contentEditable","suppressContentEditableWarning","edit","display","Fragment","results","element","key","Component","DateDecorator","day","time","date","flatpickr","formatDate","styles","DateSelector","datePicker","fpElement","options","onChange","config","current","dateSelector","tabIndex","open","cloneDeep","require","nestedUpdate","path","value","obj","exp","schema","pList","split","i","length","elem","StyledPlaceSearch","placeSearchStyle","TripBox","processTrip","validateTrip","showErrors","tripInfo","initialState","trip","arrival","errors","departurePlace","arrivalPlace","departureDate","general","every","selectTripType","find","tripType","updateNestedState","selectedTripType","comment","stops","SelectorWithOptions","dateFormat","enableTime","defaultDate","updater","onReady","error","shadowedBox","tripTypeSelector","iconClass","buttonClass","tripTypeButton","selected","places","infoElement","separator","dates","val","button","AddStop","handleUpdate","stop","toggleSearchBar","handleAdd","addStop","active","addStopButton","TripFragment","leg","tripActions","legName","useState","setComment","commentFlag","setFlag","tripFragment","info","mainPanel","tripIconContainer","secPanel","toDateString","utilButton","deleteTrip","onBlur","modifyComment","placeholder","TripElement","actions","filter","TripFragmentWithInfo","tripElement","stopList","shortid","generate","stopSubText","DayMarker","dayMarker","TimeInterval","addOne","getTime","getDate","timeInterval","bar","TripList","tripTimeline","tripList","currentDay","getFullYear","getMonth","render","tripSuperContainer","generateList","tripsReducer","action","sortTripsByDate","sort","a","b","date1","date2","tripWithID","tripID","newTrip","concat","stopInfo","legReducer","Boolean","window","location","hostname","match","ReactDOM","useReducer","dispatchTrips","tripContext","travelHeader","travelTitle","subtext","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"6FACAA,EAAOC,QAAU,CAAC,IAAM,qBAAqB,OAAS,wBAAwB,UAAY,2BAA2B,iBAAmB,kCAAkC,eAAiB,gCAAgC,SAAW,0BAA0B,MAAQ,uBAAuB,YAAc,6BAA6B,OAAS,wBAAwB,OAAS,wBAAwB,MAAQ,uBAAuB,YAAc,+B,mBCAzbD,EAAOC,QAAU,CAAC,UAAY,uBAAuB,aAAe,0BAA0B,YAAc,yBAAyB,QAAU,uB,mBCA/ID,EAAOC,QAAU,CAAC,aAAe,mCAAmC,KAAO,2BAA2B,IAAM,0BAA0B,KAAO,2BAA2B,MAAQ,4BAA4B,UAAY,kC,gKCClNC,EAAY,CACd,CACIC,GAAI,EACJC,KAAM,YACNC,gBAAgB,EAChBC,KAAM,UAEV,CACIH,GAAI,EACJC,KAAM,SACNC,gBAAgB,EAChBC,KAAM,YAEV,CACIH,GAAI,EACJC,KAAM,QACNC,gBAAgB,EAChBC,KAAM,YAEV,CACIH,GAAI,EACJC,KAAM,MACNC,gBAAgB,EAChBC,KAAM,WAIRC,EAAc,CAChB,CACE,UAAa,CACX,KAAQ,IAAIC,KAAK,oBACjB,MAAS,CACP,GAAM,0BACN,UAAa,YACb,aAAgB,8BAChB,YAAe,EACZ,SACD,WAGJ,QAAW,IAEb,QAAW,CACT,KAAQ,IAAIA,KAAK,oBACjB,MAAS,CACP,GAAM,oBACN,UAAa,YACb,aAAgB,iEAChB,YAAe,CACb,SACA,YAGJ,QAAW,IAEb,iBAAoB,EACpB,GAAM,YACN,MAAS,IAEX,CACE,UAAa,CACX,KAAQ,IAAIA,KAAK,oBACjB,MAAS,CACP,GAAM,oBACN,UAAa,YACb,aAAgB,iEAChB,YAAe,CACb,SACA,YAGJ,QAAW,IAEb,QAAW,CACT,KAAQ,KACR,MAAS,CACP,GAAM,mBACN,UAAa,YACb,aAAgB,oGAChB,YAAe,EACZ,UACD,YAGJ,QAAW,IAEb,iBAAoB,EACpB,GAAM,YACN,MAAS,IAEX,CACE,UAAa,CACX,KAAQ,IAAIA,KAAK,oBACjB,MAAS,CACP,GAAM,oBACN,UAAa,YACb,aAAgB,iEAChB,YAAe,CACb,SACA,YAGJ,QAAW,oDAEb,QAAW,CACT,KAAQ,IAAIA,KAAK,oBACjB,MAAS,CACP,GAAM,0BACN,UAAa,YACb,aAAgB,8BAChB,YAAe,EACZ,SACD,WAGJ,QAAW,IAEb,iBAAoB,EACpB,GAAM,YACN,MAAS,K,mDCpHfC,IAASC,YAAc,4FAER,eAACC,GAEZ,IAAIC,EAWJ,OATAC,qBAAU,WACM,IAAIJ,IAASK,IAAI,CACzBC,UAAWH,EACXI,MAAO,qCACPC,OAAQN,EAAMO,MAAM,GAAGC,UAAUC,MAAMC,YACvCC,KAAM,OAKV,yBAAKC,IAAK,SAAAC,GAAE,OAAIZ,EAAeY,GAAIC,UAAWT,IAAMJ,gB,oCCF7Cc,MAjBf,SAAsBf,GACpB,IAAIc,EAAYd,EAAMgB,MAClBX,EAAQL,EAAMK,MAElB,OACE,wBAAIY,QAASjB,EAAMkB,OAAQF,MAAOF,GAChC,yBAAKA,UAAWT,EAAMc,MACnBnB,EAAMoB,KAAKC,WAEd,yBAAKP,UAAWT,EAAMiB,cACnBtB,EAAMoB,KAAKE,gB,qBCkHLC,E,YApHb,WAAYvB,GAAQ,IAAD,EAKjB,GALiB,qBACjB,4CAAMA,KAmDRwB,iBAAmB,SAACC,GAClB,EAAKC,SAAS,CAACC,WAAYF,EAAEG,OAAOC,YAAaC,aAAc,QArD9C,EAyDnBC,WAAa,SAACX,GACZ,EAAKpB,MAAMgC,OAAOZ,GAClB,EAAKM,SAAS,CAACI,aAAcV,EAAKC,UAAWY,SAAU,KAAMN,WAAY,QA3DxD,EA8DnBO,YAAc,SAACT,GAEb,GAAK,EAAKU,KAAKC,SAASX,EAAEG,UAAW,EAAKS,MAAMJ,SAI3C,OAAG,EAAKE,KAAKC,SAASX,EAAEG,SAE3B,EAAKF,SAAS,CAACI,aAAc,YAC7B,EAAKQ,SAASC,cAHX,EAHH,EAAKb,SAAS,CAACO,SAAU,QA5DxBjC,EAAMK,MACP,IAAImC,EAAYC,OAAOC,KAAK1C,EAAMK,OAAOsC,QAAO,SAACC,EAAWC,GAExD,OAAGD,EAAUC,GACJ,eAAID,EAAX,eAAuBC,EAAW,CAACD,EAAUC,GAAW7C,EAAMK,MAAMwC,IAAWC,KAAK,OAG/E,eAAIF,EAAX,eAAuBC,EAAW7C,EAAMK,MAAMwC,OAC/CE,KAbY,OAiBjB,EAAK1C,MAAQmC,GAAaO,IAG1B,EAAKZ,KAAOa,IAAMC,YAClB,EAAKX,SAAWU,IAAMC,YAItB,EAAKC,YCjCM,SAAkBC,EAAMC,EAAMC,GAC5C,IAAIC,EACJ,OAAO,WACN,IAAIC,EAAUC,KAAMC,EAAOC,UACvBC,EAAQ,WACXL,EAAU,KACLD,GAAWF,EAAKS,MAAML,EAASE,IAE3BI,EAAUR,IAAcC,EAClCQ,aAAaR,GACbA,EAAUS,WAAWJ,EAAOP,GACxBS,GAASV,EAAKS,MAAML,EAASE,IDsBZO,EAAS,YEhCjB,SAAuBrC,GAElC,IAAIsC,EAAQ,GAEZ,GAAGtC,EAAY,CAEXsC,EAAQ,qDACRA,GAAK,UAAOtC,EAAP,SASL,MALU,WAGVsC,GAHAC,kHAKOC,MAAMF,GACZG,MAAK,SAAAC,GAEF,OADwBA,EAASC,UAGpCF,MAAK,SAAAG,GAMF,OALAC,QAAQC,IAAIF,IAEZA,EAAOA,EAAKG,UAOQH,EAAKI,KAAI,SAACC,GAC1B,IAAIC,EAAiB,GAOrB,OALAA,EAAerF,GAAKoF,EAAMpF,GAC1BqF,EAAexD,WAAauD,EAAME,QAAUF,EAAME,QAAU,IAAM,IAAMF,EAAMG,KAC9EF,EAAevD,aAAesD,EAAMI,WAAWC,QAAQJ,EAAexD,UAAY,KAAM,IAAI6D,OAC5FL,EAAenE,YAAckE,EAAMtE,OAE5BuE,KAXA,MAmBf,OAAOM,QAAQC,QAAQ,KFdzBC,CAAe,EAAKhD,MAAMV,YAAYyC,MAAK,SAACkB,GAC1C,EAAK5D,SAAS,CAACO,SAAUqD,SAE1B,KAEH,EAAKjD,MAAQ,CACXV,WAAY,KACZM,SAAU,KACVH,aAAc,MAlCC,E,iFAuCjByD,SAASC,iBAAiB,QAAShC,KAAKtB,aAAa,K,6CAIrDqD,SAASE,oBAAoB,QAASjC,KAAKtB,aAAa,K,yCAGvCwD,EAAWC,GACxBnC,KAAKnB,MAAMV,aAAegE,EAAUhE,YAEtC6B,KAAKN,gB,+BA2BC,IAAD,OACH7C,EAAQmD,KAAKnD,MACjB,OACE,yBAAKS,UAAWT,EAAMD,WAEpB,yBAAKU,UAAWT,EAAMuF,IAAKhF,IAAK,SAAAuB,GAAU,EAAKA,KAAOA,IACnDqB,KAAKxD,MAAM6F,UAAY,+BAAQrC,KAAKxD,MAAM6F,UAE3C,yBACE/E,UAAS,UAAKT,EAAMyF,MAAX,YAAoBtC,KAAKnB,MAAMP,cAAgBzB,EAAM0F,WAC9DC,QAASxC,KAAKhC,iBACdZ,IAAK,SAAAA,GAAG,OAAI,EAAK0B,SAAW1B,GAC5BqF,YAAY,EACZC,iBAAiB,EACjBC,gCAAgC,GAChC3C,KAAKnB,MAAMP,cAAgB,MAE7B,uBAAGhB,UAAS,UAAKT,EAAM+F,KAAX,wBAAuC/F,MAAOmD,KAAKnB,MAAMP,cAAgB,CAACuE,QAAS,aAGjG,kBAAC,IAAMC,SAAP,KACC9C,KAAKnB,MAAMJ,UACV,wBAAInB,UAAS,UAAKT,EAAMkG,QAAX,iBACV/C,KAAKnB,MAAMJ,SAAS0C,KAAI,SAAAvD,GAAI,OAC3B,kBAAC,EAAD,CACEJ,MAAOX,EAAMmG,QACbC,IAAKrF,EAAK5B,GACV4B,KAAMA,EACNF,OAAQ,kBAAM,EAAKa,WAAWX,IAC9Bf,MAAOA,c,GA3GG2C,IAAM0D,W,0CGgChC,SAASC,EAAc3G,GACnB,IAAI4G,EAAKC,EAAO,KAMhB,OAJG7G,EAAM8G,OACLF,EAAMG,IAAUC,WAAWhH,EAAM8G,KAAM,UACvCD,EAAOE,IAAUC,WAAWhH,EAAM8G,KAAM,UAGxC,yBAAK9F,MAAOiG,IAAOH,MACf,kBAAC,IAAMR,SAAP,KACI,0BAAMxF,UAAWmG,IAAOL,KAAMA,GAAO5G,EAAM6F,UAC3C,0BAAM/E,UAAWmG,IAAOJ,MAAOA,KAMhCK,M,YAjDX,WAAYlH,GAAO,IAAD,8BACd,4CAAMA,KAEDmH,WAAanE,IAAMC,YACxB,EAAKmE,UAAY,KAEjB,EAAK/E,MAAQ,CACTgF,QAAQ,aACJC,SAAU,EAAKA,UACZ,EAAKtH,MAAMuH,SATR,E,iFAed/D,KAAK4D,UAAYL,IAAUvD,KAAK2D,WAAWK,QAAShE,KAAKnB,MAAMgF,W,+BAGzD,IAAD,OACL,OACI,yBAAKvG,UAAWmG,IAAOQ,aAAcC,SAAS,IAAIzG,QAAS,WACvD,EAAKmG,UAAUO,SAEf,uBAAG3G,MAAM,wBAET,2BAAOJ,IAAK4C,KAAK2D,WAAYrG,UAAWmG,IAAOnB,QAC/C,kBAACa,EAAD,CAAeG,KAAMtD,KAAKxD,MAAM8G,MAAhC,oB,GA3BW9D,IAAM0D,W,iCCN7BkB,EAAYC,EAAQ,IAkBTC,EAhBM,SAACC,EAAMC,GAAP,OAAiB,SAACC,GAOnC,IAJA,IAAIC,EAAMN,EAAUK,GAChBE,EAASD,EACTE,EAAQL,EAAKM,MAAM,KAEfC,EAAI,EAAGA,EAAIF,EAAMG,OAAS,EAAGD,IAAI,CACrC,IAAIE,EAAOJ,EAAME,GACbH,EAAOK,KAAOL,EAAOK,GAAQ,IACjCL,EAASA,EAAOK,GAGpB,OADAL,EAAOC,EAAMA,EAAMG,OAAS,IAAMP,EAC3BE,ICTPN,EAAYC,EAAQ,IAKlBY,EAAoB,SAASzI,GAC/B,OAAO,kBAAC,EAAD,iBAAiBA,EAAjB,CAAwBK,MAAOqI,QA4K3BC,E,YAxKX,WAAY3I,GAAQ,IAAD,8BACf,4CAAMA,KAmCV4I,YAAc,WAEV,IAAqC,IAAlC,EAAKC,aAAa,EAAKxG,OAEtB,OADA,EAAKX,SAAS,CAACoH,YAAY,KACpB,EAJK,MAO2BlB,EAAU,EAAKvF,OAA3B0G,GAPf,EAOXxJ,UAPW,EAOAuJ,WAPA,2CAQhB,EAAK9I,MAAM4I,YAAYG,GACvB,EAAKrH,SAASkG,EAAU,EAAKoB,gBA7Cd,EAgDnBH,aAAe,WAAmB,IAAlBI,EAAiB,wDAE7B,IAAY,IAATA,EACC,OAAO,EAOX,IAAIzI,EAAYyI,EAAKzI,UACjB0I,EAAUD,EAAKC,QACfC,EAAS,GAeb,OAbAA,EAAOC,eAAkB5I,EAAUC,MAAuC,GAA/B,6BAC3C0I,EAAOE,aAAgBH,EAAQzI,MAAmC,GAA3B,yBACvC0I,EAAOG,cAAiB9I,EAAUsG,KAAwC,GAAhC,8BAC1CqC,EAAOI,SACF,IAAI1J,KAAKW,EAAUsG,MAAQ,IAAIjH,KAAKqJ,EAAQpC,MAC3C,sDAAyD,MAEzDtG,EAAUC,MACK,GAAf,cAKCgC,OAAOC,KAAKyG,GAAQK,OAAM,SAAC/C,GAAD,OAAS0C,EAAO1C,GAAK8B,QAAU,MAAMY,GA3EvD,EA8EnBM,eAAiB,SAACjK,GACO,EAAK6C,MAAM9C,UAAUmK,MAAK,SAAAC,GAAQ,OAAInK,IAAOmK,EAASnK,MAAIE,gBAE3E,EAAKkK,kBAAkB,eAAvB,CAAuC,MAE3C,EAAKlI,SAAS,CAACmI,iBAAkBrK,KAnFlB,EAsFnBoK,kBAAoB,SAAA7B,GAAI,OAAI,SAAAC,GACxB,EAAKtG,UAAS,SAAAiE,GAAS,OAAImC,EAAaC,EAAMC,EAAnBF,CAA0BnC,QApFrD,EAAKtD,MAAQ,CACT9C,UAAWA,EACXuJ,YAAY,EACZtI,UAAW,CACPsG,KAAM,IAAIjH,KACVY,MAAO,KACPqJ,QAAS,IAEbZ,QAAS,CACLpC,KAAM,KACNrG,MAAO,KACPqJ,QAAS,IAEbC,MAAO,GACPF,iBAAkB,GAGtB,EAAKb,aAAepB,EAAU,EAAKvF,OAEnC,EAAK2H,oBAAsB,SAAShK,GAChC,OAAO,kBAAC,EAAD,CACH8G,KAAM9G,EAAM8G,KACZS,OAAM,aACN0C,WAAY,cACZC,YAAY,EACZC,YAAa,IAAItK,KACjByH,SAAUtH,EAAMoK,QAChBC,QAASrK,EAAMoK,SACZpK,EAAMuH,WA/BF,E,sEA0FT,IAAD,OACDlF,EAAQmB,KAAKnB,MAEb3C,EAAiB2C,EAAM9C,UAAUmK,MAAK,SAAAC,GAAQ,OAAItH,EAAMwH,mBAAqBF,EAASnK,MAAIE,eAC1F4K,EAAQ9G,KAAKqF,aAAaxG,GAE9B,OACI,yBAAKvB,UAAS,UAAKT,IAAMuF,IAAX,YAAkBvF,IAAMkK,cAClC,wBAAIzJ,UAAWT,IAAMmK,kBAEhBnI,EAAM9C,UAAUoF,KAAI,SAAAgF,GACjB,IAAIc,EAAY,OAASd,EAAShK,KAC9B+K,EAAW,UAAMrK,IAAMsK,eAAZ,KAEf,OADAD,GAAgBrI,EAAMwH,mBAAqBF,EAASnK,GAAKa,IAAMuK,SAAW,GAEtE,wBAAI5J,MAAO0J,EAAazJ,QAAS,kBAAM,EAAKwI,eAAeE,EAASnK,KAAKiH,IAAKkD,EAASnK,IACnF,uBAAGwB,MAAOyJ,SAMzBjH,KAAKnB,MAAMyG,YACZ,yBAAK9H,MAAOX,IAAMiK,OACd,oCAAGA,EAAMlB,gBACT,oCAAGkB,EAAMjB,cACT,oCAAGiB,EAAMhB,eACT,oCAAGgB,EAAMf,UAKb,yBAAKzI,UAAS,OACV,yBAAKE,MAAM,cAAcX,MAAO,CAAC,gBAAiB,QAC9C,4CACA,yBAAKS,UAAS,UAAKT,IAAMwK,OAAX,YAAqBxK,IAAMyK,cACrC,kBAAC,EAAD,CAAmB9I,OAAQwB,KAAKoG,kBAAkB,qBAClD,yBAAK9I,UAAS,UAAKT,IAAMwK,OAAX,YAAqBxK,IAAM0K,YACrC,uBAAG/J,MAAM,iCAEb,kBAAC,EAAD,CAAmBgB,OAAQwB,KAAKoG,kBAAkB,qBAI1D,yBAAK5I,MAAM,eACP,wCACA,yBAAKF,UAAS,UAAKT,IAAM2K,MAAX,YAAoB3K,IAAMyK,cAEpC,uBAAMd,oBAAN,CACAlD,KAAMtD,KAAKnB,MAAM7B,UAAUsG,KAC3BsD,QACI,SAACa,GAAD,OAAS,EAAKrB,kBAAkB,iBAAvB,CAAyCqB,EAAI,OAGzDvL,GACG,kBAAC,IAAM4G,SAAP,KACI,yBAAKxF,UAAS,UAAKT,IAAM2K,MAAX,YAAoB3K,IAAM0K,YACpC,uBAAG/J,MAAM,0BAEb,uBAAMgJ,oBAAN,CACAlD,KAAMtD,KAAKnB,MAAM6G,QAAQpC,KACzBsD,QAAS,SAACa,GAAD,OAAS,EAAKrB,kBAAkB,eAAvB,CAAuCqB,EAAI,KAC7D1D,OAAQ,CACJ4C,YAAa,YAOrC,yBAAKnJ,MAAK,UAAKX,IAAMa,SACjB,4BAAQF,MAAK,UAAKX,IAAM6K,OAAX,+BAAgDjK,QAASuC,KAAKoF,aAA3E,kB,GAlKE5F,IAAM0D,W,kDCmBbyE,E,YA3BX,WAAYnL,GAAQ,IAAD,8BACf,4CAAMA,KAOVoL,aAAe,SAACC,GACZ,EAAK3J,SAAS,CAAC4J,iBAAkB,EAAKjJ,MAAMiJ,kBAC5C,EAAKtL,MAAMuL,UAAUF,IAPrB,EAAKhJ,MAAQ,CACTiJ,iBAAiB,GAJN,E,sEAaT,IAAD,OACL,OACA,yBAAKtK,MAAK,UAAKX,IAAMmL,QAAX,YAAsBhI,KAAKnB,MAAMiJ,iBAAmBjL,IAAMoL,SAChE,0BAAMzK,MAAOX,IAAMqL,cAAezK,QAAS,kBAAM,EAAKS,SAAS,CAAC4J,iBAAkB,EAAKjJ,MAAMiJ,oBACzF,uBAAGtK,MAAM,uBADb,aAGCwC,KAAKnB,MAAMiJ,iBACR,kBAAC,EAAD,CAAatJ,OAAQwB,KAAK4H,aAAc/K,MAAOqI,W,GArBzC1F,IAAM0D,W,gBCGtBiF,GAAe,SAAC,GAAqD,IAApDnM,EAAmD,EAAnDA,GAAIoM,EAA+C,EAA/CA,IAAKjM,EAA0C,EAA1CA,KAAMkM,EAAoC,EAApCA,YAAaC,EAAuB,EAAvBA,QAASjG,EAAc,EAAdA,SAAc,EAC5CkG,mBAASH,EAAI9B,SAD+B,mBACnEA,EADmE,KAC1DkC,EAD0D,OAE3CD,oBAAS,GAFkC,mBAEnEE,EAFmE,KAEtDC,EAFsD,KAaxE,OACE,yBAAKlL,MAAK,UAAKX,IAAM8L,eACnB,yBAAKnL,MAAOX,IAAM+L,MAChB,yBAAKpL,MAAOX,IAAMgM,WAEhB,yBAAKrL,MAAOX,IAAMiM,mBAChB,uBAAGtL,MAAOrB,KAGZ,yBAAKqB,MAAOX,IAAMyL,SAEhB,6BAAMF,EAAInL,MAAMY,WAChB,+BAAQuK,EAAInL,MAAMa,gBAItB,yBAAKN,MAAOX,IAAMkM,UACfX,EAAI9E,MACL,yBAAK9F,MAAOX,IAAM0I,UAClB,0BAAM/H,MAAOX,IAAMV,MAAnB,IAA2BiM,EAAI9E,KAAK0F,iBAKpC,yBAAKxL,MAAOX,IAAMoM,YAChB,0BAAMxL,QAAS,kBAAMiL,GAASD,KAC5B,uBAAGjL,MAAM,mBADX,YAGA,0BAAMC,QAAS,kBAAM4K,EAAYa,WAAWlN,KAC1C,uBAAGwB,MAAM,oBAKf,yBAAKA,MAAOX,IAAMyJ,QAASzJ,MAAO,CAACgG,QAAUuF,EAAI9B,QAAQvB,QAAU,IAAM0D,EAAe,OAAS,YAC9FA,EACG,2BAAOxM,KAAK,OACLkN,OAAQ,kBA9CH5H,EA8CwB+E,EA7C9C+B,EAAYe,cAAcpN,EAAIsM,EAA9BD,CAAuC9G,GAChCmH,EAAwB,IAAhBnH,EAAKwD,QAAuB0D,GAFtB,IAAClH,GA+CLuC,SA1CG,SAAC7F,GACrB,OAAOuK,EAAWvK,EAAEG,OAAOoG,QA0CV6E,YAAa,2BACb7E,MAAO8B,IAEhB8B,EAAI9B,UAITjE,IAoDQiH,GA9CK,SAAC,GAA+B,IAA9B7D,EAA6B,EAA7BA,KAAM8D,EAAuB,EAAvBA,QAASlH,EAAc,EAAdA,SAK7B4E,GAHelL,EAAUyN,QAAO,SAACxG,GAAD,OAAaA,EAAQhH,KAAOyJ,EAAKY,oBAAkB,GAAGpK,KAG7E,cAAUF,EAAUyN,QAAO,SAACxG,GAAD,OAAaA,EAAQhH,KAAOyJ,EAAKY,oBAAkB,GAAGlK,OAExFsN,EAAuB,SAACjN,GAAD,OAC3B,kBAAC,GAAD,eAAcR,GAAIyJ,EAAKzJ,GAAIG,KAAM8K,EAAWoB,YAAakB,GAAa/M,GACnE6F,IAGH,OACE,yBAAK7E,MAAK,UAAKX,IAAM6M,cAGnB,kBAACD,EAAD,CAAsBrB,IAAK3C,EAAKzI,UAAWsL,QAAQ,aAChDjG,GAGwB,IAA1BoD,EAAKY,kBACN,yBAAK7I,MAAOX,IAAM8M,UACflE,EAAKc,MAAMxB,OAAS,GACnBU,EAAKc,MAAMpF,KAAI,SAAA0G,GAAI,OACjB,yBAAK5E,IAAK2G,IAAQC,WAAYrM,MAAOX,IAAMgL,MACzC,uBAAGrK,MAAM,0BACT,2BAAIqK,EAAKhK,WACT,yBAAKL,MAAOX,IAAMiN,aAChB,+BAAQjC,EAAK/J,mBAMrB,kBAAC,EAAD,CAASiK,UAAWwB,EAAQvB,QAAQvC,EAAKzJ,OAK1CyJ,EAAKC,SACJ,kBAAC+D,EAAD,CAAsBrB,IAAK3C,EAAKC,QAAS4C,QAAQ,cC7GvDyB,GAAY,SAACvN,GACf,OACI,yBAAKgB,MAAOX,IAAMmN,WACd,yBAAKxM,MAAOX,IAAMuG,KACbG,IAAUC,WAAWhH,EAAM4G,IAAK,WAM3C6G,GAAe,SAACzN,GAClB,IAAI0N,GAAS,EAEV1N,EAAMkJ,UACUlJ,EAAMkJ,QAAQyE,UAAY3N,EAAMQ,UAAUmN,UAC1C,QAAa3N,EAAMkJ,QAAQ0E,YAAc5N,EAAMQ,UAAUoN,UAAY,IAChFF,GAAS,IAGjB,OACI,yBAAK1M,MAAOX,IAAMwN,cACd,yBAAK7M,MAAOX,IAAMwG,MACbE,IAAUC,WAAWhH,EAAMQ,UAAW,UAE3C,yBAAKQ,MAAOX,IAAMyN,MAClB,yBAAK9M,MAAOX,IAAMwG,MACb6G,EAAS,0BAAM1M,MAAOX,IAAMqN,QAAnB,MAAuC,KAChD1N,EAAMkJ,QAAUnC,IAAUC,WAAWhH,EAAMkJ,QAAS,SAAW,0BAAM7I,MAAO,CAAC,iBAAkB,SAAhC,aA8CjE0N,GAzCE,SAAC/N,GAiCd,OACI,yBAAKgB,MAAOX,IAAM2N,cAhCD,SAACC,GAClB,IAAIC,EAAa,KAGjB,OAAOD,EAAStJ,KAAI,SAACuI,GACjB,IAAIpG,EAAOoG,EAAY1M,UAAUsG,KAC7BF,EAAM,IAAI/G,KAAKiH,EAAKqH,cAAcrH,EAAKsH,WAAatH,EAAK8G,WACzDS,GAAS,EAQb,OALIH,GAActH,EAAI+G,YAAcO,EAAWP,YAC3CO,EAAatH,EACbyH,GAAS,GAIT,oCACKA,GAAU,kBAAC,GAAD,CAAWzH,IAAKsH,IAC3B,yBAAKlN,MAAOX,IAAMiO,oBACd,kBAAC,GAAD,CAAc9N,UAAW0M,EAAY1M,UAAUsG,KAAMoC,QAASgE,EAAYhE,QAAQpC,OAClF,kBAAC,GAAD,CAAamC,KAAMiE,EAAaH,QAAS/M,EAAM+M,eAa1DwB,CAAavO,EAAMiO,Y,oBC9D5BrG,GAAYC,EAAQ,IAGxB,SAAS2G,KAAkC,IAArBnM,EAAoB,uDAAZ,GAAIoM,EAAQ,uCAElCC,EAAkB,SAACnO,GACvB,OAAOA,EAAMoO,MAAK,SAACC,EAAEC,GACnB,IAAIC,EAAQ,IAAIjP,KAAK+O,EAAEpO,UAAUsG,MAC7BiI,EAAQ,IAAIlP,KAAKgP,EAAErO,UAAUsG,MAEjC,OAAIgI,IAAUC,EACL,EAGCD,EAAQC,GAAU,EAAI,MAMpC,OAAON,EAAOhP,MACZ,IAAK,WAEH,IAAIuP,EAAU,eAAOP,EAAOxF,KAAd,CAAoBzJ,GAAI4N,IAAQC,aAC9C,OAAOqB,EAAgB,GAAD,mBAAKrM,GAAL,CAAY2M,KAEpC,IAAK,cACH,OAAO3M,EAAM2K,QAAO,SAAA/D,GAAI,OAAIA,EAAKzJ,KAAOiP,EAAOQ,UAEjD,IAAK,WACH,OAAO5M,EAAMsC,KAAI,SAAAsE,GACf,GAAGA,EAAKzJ,KAAOiP,EAAOQ,OAAQ,OAEArH,GAAUqB,GAArBiG,GAFW,EAErBnF,MAFqB,0BAM5B,OAFAmF,EAAQnF,MAAQd,EAAKc,MAAMoF,OAAOV,EAAOW,UAElCF,EAET,OAAOjG,KAGX,IAAK,iBACH,OAAO5G,EAAMsC,KAAI,SAAAsE,GACf,OAAGA,EAAKzJ,KAAOiP,EAAOQ,OACbI,GAAWpG,EAAMwF,GAEnBxF,KAGX,QACE,OAAO5G,GAKb,SAASgN,KAAgC,IAArBhN,EAAoB,uDAAZ,GAAIoM,EAAQ,uCACtC,OAAOA,EAAOhP,MACZ,IAAK,iBACH,OAAG4C,EAAMoM,EAAO7C,KACP,eACFvJ,EADL,eAEGoM,EAAO7C,IAFV,eAGOvJ,EAAMoM,EAAO7C,KAHpB,CAII9B,QAAS2E,EAAO3E,YAIfzH,EAET,IAAK,cAGL,QACE,OAAOA,G,qBCzEOiN,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCTNC,IAAStB,OAAO,mBFkFD,WAAM,MAGYuB,qBAAWpB,GAAc5O,GAHrC,mBAGZW,EAHY,KAGLsP,EAHK,KAMbC,EAAc,CAElBvP,MAAOA,EAEPwM,QAAS,CACPvB,QAAS,SAAChM,GAAD,OAAQ,SAAC6L,GAAD,OAAUwE,EAAc,CAACpQ,KAAM,WAAYwP,OAAQzP,EAAI4P,SAAU/D,MAClFqB,WAAY,SAAClN,GAAD,OAAQqQ,EAAc,CAACpQ,KAAM,cAAewP,OAAQzP,KAChEoN,cAAe,SAACpN,EAAIoM,GAAL,OAAa,SAAA9B,GAAO,OAAI+F,EAAc,CAACpQ,KAAM,iBAAkBwP,OAAQzP,EAAIoM,IAAKA,EAAK9B,QAASA,QAIjH,OACE,6BACE,4BAAQhJ,UAAS,cAAST,KAAM0P,eAC9B,yBAAKjP,UAAS,oBAAeT,KAAMD,YACjC,wBAAIU,UAAWT,KAAM2P,aAArB,0BACA,yBAAKlP,UAAWT,KAAM4P,SACpB,uBAAGnP,UAAU,iBADf,sBAMJ,yBAAKA,UAAU,OACb,kBAACX,EAAD,CAAKI,MAAOA,KAGd,yBAAKO,UAAU,MAAMT,MAAO,CAAC,UAAa,SACxC,yBAAKS,UAAS,oBAAeT,KAAMD,YACjC,kBAAC,EAAD,CACA6N,SAAU1N,EACVqI,YAAa,SAACG,GACZ8G,EAAc,CAACpQ,KAAM,WAAYwJ,KAAMF,SAK7C,yBAAKjI,UAAS,oBAAeT,KAAMD,YACjC,kBAAC,GAAD,CAAU6N,SAAU1N,EAAOwM,QAAS+C,EAAY/C,cE7HxC,MAASxH,SAAS2K,eAAe,SDwH3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMjM,MAAK,SAAAkM,GACjCA,EAAaC,iB,kBElInBlR,EAAOC,QAAU,CAAC,SAAW,8BAA8B,YAAc,iCAAiC,cAAgB,mCAAmC,aAAe,kCAAkC,SAAW,8BAA8B,KAAO,0BAA0B,YAAc,iCAAiC,KAAO,0BAA0B,UAAY,+BAA+B,SAAW,8BAA8B,KAAO,0BAA0B,WAAa,gCAAgC,SAAW,8BAA8B,kBAAoB,uCAAuC,QAAU,6BAA6B,QAAU,+B,mBCA/pBD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,cAAgB,iC,mBCAtGD,EAAOC,QAAU,CAAC,UAAY,+BAA+B,MAAQ,2BAA2B,UAAY,+BAA+B,KAAO,0BAA0B,IAAM,yBAAyB,QAAU,6BAA6B,QAAU,6BAA6B,KAAO,0BAA0B,aAAe,oC,kBCAzUD,EAAOC,QAAU,CAAC,aAAe,+BAA+B,IAAM,sBAAsB,KAAO,uBAAuB,mBAAqB,qCAAqC,UAAY,4BAA4B,IAAM,wB,mBCAlOD,EAAOC,QAAU,CAAC,aAAe,4B,mBCAjCD,EAAOC,QAAU,CAAC,UAAY,uCAAuC,MAAQ,mCAAmC,IAAM,mC,mBCAtHD,EAAOC,QAAU,CAAC,UAAY,uCAAuC,MAAQ,mCAAmC,IAAM,mC","file":"static/js/main.de5fa830.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"TripBox_box__1ZIVo\",\"places\":\"TripBox_places__1yCwE\",\"separator\":\"TripBox_separator__2BDy2\",\"tripTypeSelector\":\"TripBox_tripTypeSelector__26sah\",\"tripTypeButton\":\"TripBox_tripTypeButton__3MJI8\",\"selected\":\"TripBox_selected__19xcx\",\"dates\":\"TripBox_dates__3d83T\",\"infoElement\":\"TripBox_infoElement__2Zl-S\",\"submit\":\"TripBox_submit__1iT6Y\",\"button\":\"TripBox_button__1oqEM\",\"error\":\"TripBox_error__pSbAc\",\"shadowedBox\":\"TripBox_shadowedBox__xs4iy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__eSJ6i\",\"travelHeader\":\"App_travelHeader__1tTk8\",\"travelTitle\":\"App_travelTitle__2UWyV\",\"subtext\":\"App_subtext__3kgU-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateSelector\":\"DateSelector_dateSelector__2cqg5\",\"date\":\"DateSelector_date__2IdZi\",\"day\":\"DateSelector_day__31O8N\",\"time\":\"DateSelector_time__2QvEv\",\"input\":\"DateSelector_input__2WSu6\",\"container\":\"DateSelector_container__3ugGd\"};","const searchLimit = 5;\r\n\r\nconst tripTypes = [\r\n    {   \r\n        id: 3,\r\n        type: 'Road Trip',\r\n        requiresReturn: false,\r\n        icon: 'fa-car'\r\n    },\r\n    {   \r\n        id: 0,\r\n        type: 'Flight',\r\n        requiresReturn: true,\r\n        icon: 'fa-plane'\r\n    },\r\n    {   \r\n        id: 1,\r\n        type: 'Train',\r\n        requiresReturn: true,\r\n        icon: 'fa-train'\r\n    },\r\n    {   \r\n        id: 2,\r\n        type: 'Bus',\r\n        requiresReturn: true,\r\n        icon: 'fa-bus'\r\n    },\r\n]\r\n\r\nconst sampleTrips = [\r\n    {\r\n      \"departure\": {\r\n        \"date\": new Date(\"2019-02-06 14:50\"),\r\n        \"place\": {\r\n          \"id\": \"place.14030488380533860\",\r\n          \"placeName\": \"Maracaibo\",\r\n          \"detailedName\": \"Maracaibo, Zulia, Venezuela\",\r\n          \"coordinates\": [\r\n            -71.63333,\r\n            10.63333\r\n          ]\r\n        },\r\n        \"comment\": \"\",\r\n      },\r\n      \"arrival\": {\r\n        \"date\": new Date(\"2019-02-06 16:40\"),\r\n        \"place\": {\r\n          \"id\": \"poi.1460288928359\",\r\n          \"placeName\": \"Maracaibo\",\r\n          \"detailedName\": \"Maracaibo, Lungomare Barcellona, Alghero, Sassari 07041, Italy\",\r\n          \"coordinates\": [\r\n            8.318614,\r\n            40.569885\r\n          ]\r\n        },\r\n        \"comment\": \"\",\r\n      },\r\n      \"selectedTripType\": 0,\r\n      \"id\": \"2vzwgdnXZ\",\r\n      \"stops\": [],\r\n    },\r\n    {\r\n      \"departure\": {\r\n        \"date\": new Date(\"2019-02-07 08:00\"),\r\n        \"place\": {\r\n          \"id\": \"poi.1460288928359\",\r\n          \"placeName\": \"Maracaibo\",\r\n          \"detailedName\": \"Maracaibo, Lungomare Barcellona, Alghero, Sassari 07041, Italy\",\r\n          \"coordinates\": [\r\n            8.318614,\r\n            40.569885\r\n          ]\r\n        },\r\n        \"comment\": \"\",\r\n      },\r\n      \"arrival\": {\r\n        \"date\": null,\r\n        \"place\": {\r\n          \"id\": \"poi.214748366041\",\r\n          \"placeName\": \"Maracaibo\",\r\n          \"detailedName\": \"Maracaibo, Isla Indias, LÃ³pez de Legaspi, Guadalajara, JAL, Guadalajara, Jalisco 44950, Mexico\",\r\n          \"coordinates\": [\r\n            -103.37837,\r\n            20.639103\r\n          ]\r\n        },\r\n        \"comment\": \"\",\r\n      },\r\n      \"selectedTripType\": 3,\r\n      \"id\": \"2bUWx4ZqG\",\r\n      \"stops\": [],\r\n    },\r\n    {\r\n      \"departure\": {\r\n        \"date\": new Date(\"2019-02-08 14:50\"),\r\n        \"place\": {\r\n          \"id\": \"poi.1460288928359\",\r\n          \"placeName\": \"Maracaibo\",\r\n          \"detailedName\": \"Maracaibo, Lungomare Barcellona, Alghero, Sassari 07041, Italy\",\r\n          \"coordinates\": [\r\n            8.318614,\r\n            40.569885\r\n          ]\r\n        },\r\n        \"comment\": \"This is a comment that can be added to the trip.\",\r\n      },\r\n      \"arrival\": {\r\n        \"date\": new Date(\"2019-02-08 15:00\"),\r\n        \"place\": {\r\n          \"id\": \"place.14030488380533860\",\r\n          \"placeName\": \"Maracaibo\",\r\n          \"detailedName\": \"Maracaibo, Zulia, Venezuela\",\r\n          \"coordinates\": [\r\n            -71.63333,\r\n            10.63333\r\n          ]\r\n        },\r\n        \"comment\": \"\",\r\n      },\r\n      \"selectedTripType\": 0,\r\n      \"id\": \"2jK7M0j_M\",\r\n      \"stops\": [],\r\n    }\r\n  ]\r\n\r\nexport {searchLimit, tripTypes, sampleTrips}","import React, {useState, useReducer, useEffect} from 'react'\nimport mapboxgl from 'mapbox-gl'\n\nimport style from './Map.module.scss'\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiYWxsZXJhcyIsImEiOiJjanJvYm42dW8xMHBxM3lvMG9mbnB2eDZkIn0.xyBG3j5GCSV7XLKHnwWtXg';\n\nexport default (props) => {\n\n    var mapContainer\n\n    useEffect(() => {\n        const map = new mapboxgl.Map({\n            container: mapContainer,\n            style: 'mapbox://styles/mapbox/streets-v11',\n            center: props.trips[0].departure.place.coordinates,\n            zoom: 5,\n        });\n    })\n\n    return (\n        <div ref={el => mapContainer = el} className={style.mapContainer} />\n    )\n}","import React from 'react'\r\n\r\nfunction PlaceElement(props) {\r\n  let className = props.class\r\n  let style = props.style\r\n\r\n  return (\r\n    <li onClick={props.submit} class={className}>\r\n      <div className={style.name}>\r\n        {props.city.placeName}\r\n      </div>\r\n      <div className={style.detailedName}>\r\n        {props.city.detailedName}\r\n      </div>\r\n      {/*this.props.city.placeName} | {this.props.city.detailedName*/}\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default PlaceElement","import React from 'react'\r\nimport PlaceElement from './PlaceElement'\r\n// Utils\r\nimport searchCityList from '../../Util/fetchCityList'\r\nimport debounce from '../../Util/debounce'\r\n// CSS\r\nimport mainCSS from './PlaceSearch.module.css'\r\n\r\nclass PlaceSearch extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    // TODO: Make into a standalone function.\r\n    // Merge the two stylesheets and concatenate the css classes names so the new style just overrides or extends it.\r\n    if(props.style){\r\n      var mergedCSS = Object.keys(props.style).reduce((cssObject, property) => {\r\n          // If the original css has the property defined on the new one, then concatenate the names and replace it.\r\n          if(cssObject[property]) \r\n            return {...cssObject, [property]: [cssObject[property], props.style[property]].join(' ')}\r\n\r\n          // Just add the property to the object if it doesn't\r\n          return {...cssObject, [property]: props.style[property]}\r\n      }, mainCSS)\r\n    }\r\n\r\n    // Fallback to the mainCSS if no styles are passed.\r\n    this.style = mergedCSS || mainCSS\r\n\r\n    // DOM References\r\n    this.node = React.createRef()\r\n    this.inputRef = React.createRef()\r\n\r\n    // We use a debounce function to delay the fetching of the data from the API while the user is typing.\r\n    // The debounce function is called here so the closure can be made correctly and the timeout works.\r\n    this.getCityList = debounce(() => { // This function will be called when the timeout finally runs out\r\n      searchCityList(this.state.searchTerm).then((list) => {\r\n        this.setState({cityList: list})\r\n      })\r\n    }, 350)\r\n\r\n    this.state = {\r\n      searchTerm: null,\r\n      cityList: null,\r\n      selectedCity: null,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('click', this.handleClick, false);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    document.removeEventListener('click', this.handleClick, false);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.searchTerm !== prevState.searchTerm)\r\n      // We call the debounced function everytime the state updates and the searchTerm is different than the previous one.\r\n      this.getCityList()\r\n  }\r\n\r\n  updateSearchTerm = (e) => {\r\n    this.setState({searchTerm: e.target.textContent, selectedCity: null})\r\n  }\r\n\r\n  // FIXME: Change update the city when selectedCity changes, not only when it's submitted.\r\n  submitCity = (city) => {\r\n    this.props.update(city)\r\n    this.setState({selectedCity: city.placeName, cityList: null, searchTerm: null})\r\n  }\r\n\r\n  handleClick = (e) => {\r\n    // If a click is registered outside the element, we clear the cityList array to hide the list.\r\n    if (!this.node.contains(e.target) && this.state.cityList) {\r\n      this.setState({cityList: null})\r\n      return\r\n    }\r\n    else if(this.node.contains(e.target)){\r\n      // Clear the search box and focus it.\r\n      this.setState({selectedCity: null})\r\n      this.inputRef.focus()\r\n      return\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let style = this.style\r\n    return (\r\n      <div className={style.container}>\r\n      \r\n        <div className={style.box} ref={node => { this.node = node; }}>\r\n          {this.props.children && <label>{this.props.children}</label>}\r\n          \r\n          <div \r\n            className={`${style.input} ${this.state.selectedCity && style.highlight}`} \r\n            onInput={this.updateSearchTerm} \r\n            ref={ref => this.inputRef = ref}\r\n            spellcheck={false}\r\n            contentEditable={true}\r\n            suppressContentEditableWarning={true}\r\n          >{this.state.selectedCity || null}</div>\r\n\r\n          <i className={`${style.edit} fas fa-times-circle`} style={this.state.selectedCity && {display: 'inline'}}></i>\r\n        </div>\r\n\r\n        <React.Fragment>\r\n        {this.state.cityList && \r\n          <ul className={`${style.results} shadowedBox`}>\r\n            {this.state.cityList.map(city => \r\n              <PlaceElement \r\n                class={style.element} \r\n                key={city.id} \r\n                city={city} \r\n                submit={() => this.submitCity(city)}\r\n                style={style}\r\n              />\r\n            )}\r\n          </ul>\r\n        }\r\n        </React.Fragment>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PlaceSearch","// Underscore.js debounce function\r\n\r\nexport default function debounce(func, wait, immediate) {\r\n\tvar timeout;\r\n\treturn function() {\r\n\t\tvar context = this, args = arguments;\r\n\t\tvar later = function() {\r\n\t\t\ttimeout = null;\r\n\t\t\tif (!immediate) func.apply(context, args);\r\n\t\t};\r\n        var callNow = immediate && !timeout;\r\n\t\tclearTimeout(timeout);\r\n\t\ttimeout = setTimeout(later, wait);\r\n\t\tif (callNow) func.apply(context, args);\r\n\t};\r\n};","import {searchLimit} from '../config'\r\n\r\n// TODO: Define an interface to be able to use any API with it. \r\nexport default function fetchCityList(searchTerm) {\r\n    // TODO: Sanitize searchTerm!!!!!!!!!\r\n    let query = ''\r\n\r\n    if(searchTerm) {\r\n        // The main query\r\n        query = 'https://api.mapbox.com/geocoding/v5/mapbox.places/'\r\n        query += `${searchTerm}.json`\r\n\r\n        // We assemble the parameters\r\n        let params = '?access_token=pk.eyJ1IjoiYWxsZXJhcyIsImEiOiJjanJvYm42dW8xMHBxM3lvMG9mbnB2eDZkIn0.xyBG3j5GCSV7XLKHnwWtXg'\r\n        params += '&limit=' + searchLimit\r\n\r\n        // Then join everything together\r\n        query += params\r\n\r\n        return fetch(query)\r\n        .then(response => {\r\n            let formattedResponse = response.json()\r\n            return formattedResponse\r\n        })\r\n        .then(data => {\r\n            console.log(data)\r\n            // Select the 'features' property from the object\r\n            data = data.features\r\n\r\n            // If that property is inexistent, there's no results. We return an empty array\r\n            if(!data)\r\n                return []\r\n            \r\n            // Format data for sending out\r\n            let formattedData = data.map((entry) => {\r\n                let formattedEntry = {}\r\n\r\n                formattedEntry.id = entry.id\r\n                formattedEntry.placeName = (entry.address ? entry.address + ' ' : '') + entry.text\r\n                formattedEntry.detailedName = entry.place_name.replace(formattedEntry.placeName + ', ', '').trim()\r\n                formattedEntry.coordinates = entry.center\r\n\r\n                return formattedEntry\r\n            })\r\n\r\n            return formattedData\r\n        })\r\n    }\r\n    else {\r\n        // If no searchTerm is provided, the response is an empty array.\r\n        return Promise.resolve([])\r\n    }\r\n}","import React from 'react'\r\n\r\nimport flatpickr from 'flatpickr'\r\n\r\nimport 'flatpickr/dist/themes/material_blue.css'\r\nimport styles from './DateSelector.module.css' // Using CSS Modules\r\n\r\nclass DateSelector extends React.Component {\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.datePicker = React.createRef()\r\n        this.fpElement = null\r\n\r\n        this.state = {\r\n            options: {\r\n                onChange: this.onChange,\r\n                ...this.props.config\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fpElement = flatpickr(this.datePicker.current, this.state.options)\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className={styles.dateSelector} tabIndex='0' onClick={() => {\r\n                this.fpElement.open()\r\n            }}>\r\n                <i class=\"far fa-calendar-alt\"></i>\r\n\r\n                <input ref={this.datePicker} className={styles.input} />\r\n                <DateDecorator date={this.props.date}>Select date</DateDecorator>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction DateDecorator(props) {\r\n    let day, time = null\r\n\r\n    if(props.date) {\r\n        day = flatpickr.formatDate(props.date, 'D, M d')\r\n        time = flatpickr.formatDate(props.date, 'h:i K')\r\n    }\r\n    return (\r\n        <div class={styles.date}>\r\n            <React.Fragment>\r\n                <span className={styles.day}>{day || props.children}</span> \r\n                <span className={styles.time}>{time}</span>\r\n            </React.Fragment>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DateSelector","// Taken from pieceup.js\nvar cloneDeep = require('lodash/cloneDeep');\n\nconst nestedUpdate = (path, value) => (obj) => {\n    // Credits: bpmason1 https://stackoverflow.com/a/18937118\n\n    let exp = cloneDeep(obj)\n    let schema = exp\n    let pList = path.split('.')\n\n    for(var i = 0; i < pList.length - 1; i++){\n        let elem = pList[i]\n        if(!schema[elem]) schema[elem] = {}    \n        schema = schema[elem]\n    }\n    schema[pList[pList.length - 1]] = value\n    return exp\n}\n\nexport default nestedUpdate","import React from 'react'\r\nimport PlaceSearch from './PlaceSearch'\r\nimport DateSelector from '../DateSelector'\r\nimport {tripTypes} from '../../config'\r\nimport style from './TripBox.module.css'\r\nimport placeSearchStyle from './TripBox_PlaceSearch.module.css'\r\nimport nestedUpdate from '../../Util/nestedUpdate'\r\nvar cloneDeep = require('lodash/cloneDeep');\r\n\r\n\r\n// TODO: Validate input\r\n\r\nconst StyledPlaceSearch = function(props) {\r\n    return <PlaceSearch {...props} style={placeSearchStyle}></PlaceSearch>\r\n}\r\n\r\nclass TripBox extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            tripTypes: tripTypes,\r\n            showErrors: false,\r\n            departure: {\r\n                date: new Date(), \r\n                place: null,\r\n                comment: '',\r\n            },\r\n            arrival: {\r\n                date: null, \r\n                place: null,\r\n                comment: '',\r\n            },\r\n            stops: [],\r\n            selectedTripType: 0,\r\n        }\r\n\r\n        this.initialState = cloneDeep(this.state)\r\n\r\n        this.SelectorWithOptions = function(props) {\r\n            return <DateSelector \r\n                date={props.date}\r\n                config={{\r\n                dateFormat: \"D d F h:i K\",\r\n                enableTime: true,\r\n                defaultDate: new Date(),\r\n                onChange: props.updater,\r\n                onReady: props.updater,\r\n                ...props.config\r\n            }}/>\r\n        }\r\n    }\r\n\r\n    processTrip = () => {\r\n        // TODO: Change to a warning\r\n        if(this.validateTrip(this.state) !== true){\r\n            this.setState({showErrors: true})\r\n            return false\r\n        }\r\n\r\n        let {tripTypes, showErrors, ...tripInfo} = cloneDeep(this.state)\r\n        this.props.processTrip(tripInfo)\r\n        this.setState(cloneDeep(this.initialState))\r\n    }\r\n    \r\n    validateTrip = (trip = false) => {\r\n\r\n        if(trip === false)\r\n            return false\r\n        \r\n        // Arrival shouldn't happen before departure  -- DONE\r\n        // Arrival and departure dates shouldn't overlap with any of the other trips\r\n        // Departure and arrival places are required -- DONE\r\n        // Departure and arrival dates are required -- DONE\r\n\r\n        let departure = trip.departure\r\n        let arrival = trip.arrival\r\n        let errors = {}\r\n        \r\n        errors.departurePlace = !departure.place ? 'A destination is required.' : ''\r\n        errors.arrivalPlace = !arrival.place ? 'An origin is required.' : ''\r\n        errors.departureDate = !departure.date ?  'Departure date is required.' : ''\r\n        errors.general = \r\n            (new Date(departure.date) > new Date(arrival.date) \r\n            ? 'The arrival date shouldn\\'t be set before departure.' : '')\r\n            ||\r\n            (!departure.place \r\n            ? 'Test error' : '')\r\n\r\n        // We check that all the error properties are empty strings, if they are,\r\n        // the form is validated. \r\n        // If not, the errors object is returned\r\n        return Object.keys(errors).every((key) => errors[key].length <= 0) || errors\r\n    }\r\n\r\n    selectTripType = (id) => {\r\n        let requiresReturn = this.state.tripTypes.find(tripType => id === tripType.id).requiresReturn\r\n        if(!requiresReturn){\r\n            this.updateNestedState('arrival.date')(null)\r\n        }\r\n        this.setState({selectedTripType: id})\r\n    }\r\n\r\n    updateNestedState = path => value => {\r\n        this.setState(prevState => nestedUpdate(path, value)(prevState))\r\n    }\r\n\r\n    render() {\r\n        let state = this.state\r\n        /* We filter out the selected trip and then check if it requires a return in order to show the 'Arriving' part */\r\n        let requiresReturn = state.tripTypes.find(tripType => state.selectedTripType === tripType.id).requiresReturn\r\n        let error = this.validateTrip(state)\r\n\r\n        return(\r\n            <div className={`${style.box} ${style.shadowedBox}`}>\r\n                <ul className={style.tripTypeSelector}>\r\n                    {/* TODO: Clean up the way the class is generated */}\r\n                    {state.tripTypes.map(tripType => { // The list of trip types as defined in the state.\r\n                        let iconClass = 'fas ' + tripType.icon\r\n                        let buttonClass = `${style.tripTypeButton} `\r\n                        buttonClass +=  state.selectedTripType === tripType.id ? style.selected : ''\r\n                        return (\r\n                            <li class={buttonClass} onClick={() => this.selectTripType(tripType.id)} key={tripType.id}>\r\n                                <i class={iconClass}></i>\r\n                            </li>\r\n                        )\r\n                    })}\r\n                </ul>\r\n                {/* FIXME: Show errors on the respective fields */}\r\n                {this.state.showErrors && (\r\n                <div class={style.error}>\r\n                    <>{error.departurePlace}</>\r\n                    <>{error.arrivalPlace}</>\r\n                    <>{error.departureDate}</>\r\n                    <>{error.general}</>\r\n                </div>\r\n                )}\r\n                {/* TODO: Ditch the row and six columns */}\r\n                {/* FIXME: TODO: Bind PlaceSearch to the state so that when a trip is added, it resets */}\r\n                <div className={`row`}>\r\n                    <div class='six columns' style={{'margin-bottom': '1em'}}>\r\n                        <label>Where to?</label>\r\n                        <div className={`${style.places} ${style.infoElement}`}>\r\n                            <StyledPlaceSearch update={this.updateNestedState('departure.place')} ></StyledPlaceSearch>\r\n                            <div className={`${style.places} ${style.separator}`}>\r\n                                <i class=\"fas fa-long-arrow-alt-right\" />\r\n                            </div>\r\n                            <StyledPlaceSearch update={this.updateNestedState('arrival.place')} ></StyledPlaceSearch>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class='six columns'>\r\n                        <label>When?</label>\r\n                        <div className={`${style.dates} ${style.infoElement}`}>\r\n                            \r\n                            <this.SelectorWithOptions\r\n                            date={this.state.departure.date} \r\n                            updater={\r\n                                (val) => this.updateNestedState('departure.date')(val[0])\r\n                            }/>\r\n\r\n                            {requiresReturn && \r\n                                <React.Fragment>\r\n                                    <div className={`${style.dates} ${style.separator}`}>\r\n                                        <i class=\"fas fa-chevron-right\"></i>\r\n                                    </div>\r\n                                    <this.SelectorWithOptions\r\n                                    date={this.state.arrival.date} \r\n                                    updater={(val) => this.updateNestedState('arrival.date')(val[0])}\r\n                                    config={{\r\n                                        defaultDate: null,\r\n                                    }}/>\r\n                                </React.Fragment>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class={`${style.submit}`}>\r\n                    <button class={`${style.button} button-primary shadowedBox`} onClick={this.processTrip}>Add trip</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TripBox","import React from 'react'\r\n// Components\r\nimport PlaceSearch from './TripSelectorComponents/PlaceSearch'\r\n\r\nimport style from './AddStop.module.scss'\r\nimport placeSearchStyle from './AddStop_PlaceSearch.module.scss'\r\n\r\nclass AddStop extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            toggleSearchBar: false\r\n        }\r\n    }\r\n\r\n    handleUpdate = (stop) =>{\r\n        this.setState({toggleSearchBar: !this.state.toggleSearchBar})\r\n        this.props.handleAdd(stop)\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <div class={`${style.addStop} ${this.state.toggleSearchBar && style.active}`}>\r\n            <span class={style.addStopButton} onClick={() => this.setState({toggleSearchBar: !this.state.toggleSearchBar})}>\r\n                <i class=\"fas fa-plus-circle\"></i> Add Stop\r\n            </span>        \r\n            {this.state.toggleSearchBar && \r\n                <PlaceSearch update={this.handleUpdate} style={placeSearchStyle}></PlaceSearch>\r\n            }\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddStop","import React, {useState} from 'react'\r\n// Components\r\nimport AddStop from './AddStop'\r\n// Util\r\nimport shortid from 'shortid'\r\nimport {tripTypes} from '../config'\r\n\r\nimport style from './TripElement.module.scss'\r\n\r\n        \r\nconst TripFragment = ({id, leg, icon, tripActions, legName, children}) => {\r\n  let [comment, setComment] = useState(leg.comment)\r\n  let [commentFlag, setFlag] = useState(false)\r\n\r\n  const processComment = (text) => {\r\n    tripActions.modifyComment(id, legName)(text)\r\n    return setFlag(text.length === 0 ? false : commentFlag)\r\n  }\r\n\r\n  const commentChange = (e) => {\r\n    return setComment(e.target.value)\r\n  }\r\n\r\n  return (\r\n    <div class={`${style.tripFragment}`}>\r\n      <div class={style.info}>\r\n        <div class={style.mainPanel}>\r\n\r\n          <div class={style.tripIconContainer}>\r\n            <i class={icon}></i>\r\n          </div>\r\n\r\n          <div class={style.legName}>\r\n            {/* TODO: Make a util method to get the detailedName without the placeName on it */ }\r\n            <big>{leg.place.placeName}</big>\r\n            <small>{leg.place.detailedName}</small>\r\n          </div>\r\n        </div>\r\n\r\n        <div class={style.secPanel}>\r\n          {leg.date && (\r\n          <div class={style.tripInfo}>\r\n          <span class={style.icon}> {leg.date.toDateString()}</span>\r\n          </div>\r\n          )}\r\n          \r\n\r\n          <div class={style.utilButton}>\r\n            <span onClick={() => setFlag(!commentFlag)}>\r\n              <i class=\"fas fa-comment\"></i> Comment\r\n            </span>\r\n            <span onClick={() => tripActions.deleteTrip(id)}>\r\n              <i class=\"fas fa-trash\"></i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class={style.comment} style={{display: (leg.comment.length <= 0 && !commentFlag) ? 'none' : 'inherit'}}>\r\n          {commentFlag ? (\r\n              <input type=\"text\" \r\n                     onBlur={() => processComment(comment)}\r\n                     onChange={commentChange}\r\n                     placeholder={'Insert your comment here'} \r\n                     value={comment} />\r\n          ) : (\r\n            leg.comment\r\n          )}\r\n        </div>\r\n      </div>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\n// FIXME: Refactor to more usable component\r\nconst TripElement = ({trip, actions, children}) => {\r\n\r\n    let tripTypeText = tripTypes.filter((element) => element.id === trip.selectedTripType)[0].type\r\n\r\n    // FIXME: Fix this convoluted process of getting the icon or text of a tripType\r\n    let iconClass = `fas ${tripTypes.filter((element) => element.id === trip.selectedTripType)[0].icon}`\r\n        \r\n    const TripFragmentWithInfo = (props) => (\r\n      <TripFragment id={trip.id} icon={iconClass} tripActions={actions} {...props} >\r\n        {children}\r\n      </TripFragment>\r\n    )\r\n      return (\r\n        <div class={`${style.tripElement}`}>\r\n\r\n          {/* Departure */}\r\n          <TripFragmentWithInfo leg={trip.departure} legName='departure'>\r\n            {children}\r\n          </TripFragmentWithInfo>   \r\n\r\n          {trip.selectedTripType === 3 && (    \r\n          <div class={style.stopList}>\r\n            {trip.stops.length > 0 && \r\n              trip.stops.map(stop => (\r\n                <div key={shortid.generate()} class={style.stop}>\r\n                  <i class=\"fas fa-map-marker-alt\"></i> \r\n                  <b>{stop.placeName}</b>\r\n                  <div class={style.stopSubText}>\r\n                    <small>{stop.detailedName}</small>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            }\r\n\r\n            <AddStop handleAdd={actions.addStop(trip.id)} />\r\n          </div>\r\n          )}\r\n          \r\n          {/* Arrival */}\r\n          {trip.arrival && (\r\n            <TripFragmentWithInfo leg={trip.arrival} legName='arrival' />\r\n          )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TripElement                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   ","import React from 'react'\r\nimport style from './TripList.module.scss'\r\nimport TripElement from './TripElement'\r\n// We import flatpickr to use its utility functions for dates\r\nimport flatpickr from 'flatpickr'\r\n\r\nconst DayMarker = (props) => {\r\n    return (\r\n        <div class={style.dayMarker}> \r\n            <div class={style.day}>\r\n                {flatpickr.formatDate(props.day, 'M, d')}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst TimeInterval = (props) => {\r\n    var addOne = false\r\n\r\n    if(props.arrival) {\r\n        let interval = props.arrival.getTime() - props.departure.getTime()\r\n        if (interval < 172800000 && props.arrival.getDate() === props.departure.getDate() + 1)\r\n            addOne = true\r\n    }\r\n\r\n    return (\r\n        <div class={style.timeInterval}>\r\n            <div class={style.time}>\r\n                {flatpickr.formatDate(props.departure, 'h:i K')}\r\n            </div>\r\n            <div class={style.bar}></div>\r\n            <div class={style.time}>\r\n                {addOne ? <span class={style.addOne}>+1</span> : null} \r\n                {props.arrival ? flatpickr.formatDate(props.arrival, 'h:i K') : <span style={{'text-transform': 'none'}}>No ETA</span> }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst TripList = (props) => {\r\n\r\n    const generateList = (tripList) => {\r\n        var currentDay = null\r\n\r\n        // TODO: COMMENT ME!\r\n        return tripList.map((tripElement) => {\r\n            let date = tripElement.departure.date\r\n            let day = new Date(date.getFullYear(),date.getMonth() , date.getDate())\r\n            let render = false\r\n\r\n            // We use getTime for the Date object so the comparison is done properly\r\n            if(!currentDay || day.getTime() !== currentDay.getTime()){\r\n                currentDay = day\r\n                render = true\r\n            }\r\n            \r\n            return (\r\n                <>\r\n                    {render && <DayMarker day={currentDay} />}\r\n                    <div class={style.tripSuperContainer}>\r\n                        <TimeInterval departure={tripElement.departure.date} arrival={tripElement.arrival.date}/>\r\n                        <TripElement trip={tripElement} actions={props.actions}>\r\n                            {/*<>\r\n                            Test\r\n                            </>*/}\r\n                        </TripElement>\r\n                    </div>\r\n                </>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div class={style.tripTimeline}>\r\n            {generateList(props.tripList)}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default TripList\r\n","import React, {useState, useReducer, useEffect} from 'react'\n// Utils\nimport {sampleTrips} from './config'\nimport shortid from 'shortid'\nimport Map from './Components/Map'\n// Components\nimport TripBox from './Components/TripSelectorComponents/TripBox'\nimport TripList from './Components/TripList'\n// CSS\nimport style from './App.module.scss'\n\nvar cloneDeep = require('lodash/cloneDeep')\n\n\nfunction tripsReducer(state = [], action) {\n\n  const sortTripsByDate = (trips) => {\n    return trips.sort((a,b) => {\n      let date1 = new Date(a.departure.date)\n      let date2 = new Date(b.departure.date)\n      \n      if (date1 === date2) {\n        return 0;\n      }\n      else {\n        return (date1 < date2) ? -1 : 1;\n      }\n    })\n  }\n\n  // Reducer\n  switch(action.type) {\n    case 'ADD_TRIP': {\n      // Trip state structure is shown on TripSelectorComponents/TripBox.js\n      let tripWithID = {...action.trip, id: shortid.generate()}\n      return sortTripsByDate([...state, tripWithID]) \n    }\n    case 'DELETE_TRIP': {\n      return state.filter(trip => trip.id !== action.tripID)\n    }\n    case 'ADD_STOP': {\n      return state.map(trip => {\n        if(trip.id === action.tripID) {\n          // Create a new trip element without the stops\n          const {stops, ...newTrip} = cloneDeep(trip)\n          // Then add the stops to the previous trip element and incorporate it to the new one\n          newTrip.stops = trip.stops.concat(action.stopInfo)\n          \n          return newTrip\n        }\n        return trip\n      })\n    }\n    case 'MODIFY_COMMENT': {\n      return state.map(trip => {\n        if(trip.id === action.tripID){\n          return legReducer(trip, action)\n        }\n        return trip\n      })\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nfunction legReducer(state = [], action) {\n  switch(action.type) {\n    case 'MODIFY_COMMENT': {\n      if(state[action.leg]){\n        return {\n          ...state,\n          [action.leg]: {\n            ...state[action.leg],\n            comment: action.comment\n          }\n        }\n      }\n      return state\n    }\n    case 'MODIFY_DATE': {\n      return state\n    }\n    default: {\n      return state\n    }\n  }\n}\n\n\nexport default () => {\n  // Setting state\n  // TODO: Make places information source of info be the API (For placeNames, etc), using only the id to store in db.\n  const [trips, dispatchTrips] = useReducer(tripsReducer, sampleTrips)\n\n  // Context settings\n  const tripContext = {\n    // Context state\n    trips: trips, \n    // Context actions\n    actions: {\n      addStop: (id) => (stop) => dispatchTrips({type: 'ADD_STOP', tripID: id, stopInfo: stop}), \n      deleteTrip: (id) => dispatchTrips({type: 'DELETE_TRIP', tripID: id}),\n      modifyComment: (id, leg) => comment => dispatchTrips({type: 'MODIFY_COMMENT', tripID: id, leg: leg, comment: comment})\n    }\n  }\n\n  return (\n    <div>      \n      <header className={`row ${style.travelHeader}`}>\n        <div className={`container ${style.container}`}>\n          <h3 className={style.travelTitle}>Vacations in Venezuela</h3>\n          <div className={style.subtext}>\n            <i className=\"far fa-clock\"></i> 2 days, 4 hours\n          </div>\n        </div>\n      </header>\n\n      <div className='row'>\n        <Map trips={trips}></Map>\n      </div>\n      \n      <div className='row' style={{\"marginTop\": \"-3em\"}}>\n        <div className={`container ${style.container}`}>\n          <TripBox \n          tripList={trips}\n          processTrip={(tripInfo) => {\n            dispatchTrips({type: 'ADD_TRIP', trip: tripInfo})\n          }}></TripBox>\n        </div>\n      </div>\n\n      <div className={`container ${style.container}`}>\n        <TripList tripList={trips} actions={tripContext.actions} />\n      </div>\n    </div>\n  )\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './normalize.css'\nimport './skeleton.css'\nimport '@fortawesome/fontawesome-free/css/all.css'\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"withLine\":\"TripElement_withLine__3Mfbc\",\"tripElement\":\"TripElement_tripElement__Hd-mg\",\"timeIndicator\":\"TripElement_timeIndicator__-wZVe\",\"tripFragment\":\"TripElement_tripFragment__2ZRJZ\",\"stopList\":\"TripElement_stopList__22nb0\",\"stop\":\"TripElement_stop__2lhGi\",\"stopSubText\":\"TripElement_stopSubText__78KtN\",\"info\":\"TripElement_info__AS83P\",\"mainPanel\":\"TripElement_mainPanel__3yU1j\",\"secPanel\":\"TripElement_secPanel__2AEDq\",\"icon\":\"TripElement_icon__p7iy2\",\"utilButton\":\"TripElement_utilButton__AofXX\",\"tripInfo\":\"TripElement_tripInfo__17xeB\",\"tripIconContainer\":\"TripElement_tripIconContainer__1jTXg\",\"legName\":\"TripElement_legName__1UrLX\",\"comment\":\"TripElement_comment__2yLIT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addStop\":\"AddStop_addStop__3Rls-\",\"active\":\"AddStop_active__prUDD\",\"addStopButton\":\"AddStop_addStopButton__32weP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PlaceSearch_container__3DmDq\",\"input\":\"PlaceSearch_input__2uD0m\",\"highlight\":\"PlaceSearch_highlight__23iM1\",\"edit\":\"PlaceSearch_edit__2TBSy\",\"box\":\"PlaceSearch_box__1K80T\",\"results\":\"PlaceSearch_results__2DUer\",\"element\":\"PlaceSearch_element__3em7r\",\"name\":\"PlaceSearch_name__26C2g\",\"detailedName\":\"PlaceSearch_detailedName__1xN1_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeInterval\":\"TripList_timeInterval__1371S\",\"bar\":\"TripList_bar__1IW3t\",\"time\":\"TripList_time__39uwR\",\"tripSuperContainer\":\"TripList_tripSuperContainer__2839p\",\"dayMarker\":\"TripList_dayMarker__3OPef\",\"day\":\"TripList_day__3xz6C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapContainer\":\"Map_mapContainer__1cNc_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TripBox_PlaceSearch_container__2shyh\",\"input\":\"TripBox_PlaceSearch_input__37xaP\",\"box\":\"TripBox_PlaceSearch_box__3XQPW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AddStop_PlaceSearch_container__2jTCI\",\"input\":\"AddStop_PlaceSearch_input__GvW5R\",\"box\":\"AddStop_PlaceSearch_box__3SMgC\"};"],"sourceRoot":""}